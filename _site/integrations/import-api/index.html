<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="The Stitch Import API - or IAPI for short - is a REST API that allows you to push arbitrary data into your data warehouse. With the IAPI you can replicate da...">
<meta name="keywords" content="import_api,  import api, iapi, import, csv, api, api authentication, auth, upsert, validate, status, endpoint, method, methods, access token, api token, return codes, return code, response code, push, pushing data">
<title>Import API | Stitch Documentation</title>

<meta property="og:title" content="Import API | Stitch Documentation" />
<meta property="og:description" content="The Stitch Import API - or IAPI for short - is a REST API that allows you to push arbitrary data into your data warehouse. With the IAPI you can replicate da..." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon.png" />

<meta name=viewport content="width=1100, user-scalable=1">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link href="/docs/images/apple-icon-57x57.png" rel="apple-touch-icon" type="image/png" />
<link href="/docs/images/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" type="image/png" />
<link href="/docs/images/apple-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="shortcut icon" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="icon" type="image/png" />

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- TYPEKIT -->
<script src="https://use.typekit.net/hjq2wqe.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->

    // <script>
    //     $(document).ready(function() {
    //         // Initialize navgoco with default options
    //         $("#mysidebar").navgoco({
    //             caretHtml: '',
    //             accordion: true,
    //             openClass: 'active', // open
    //             save: false, // leave false or nav highlighting doesn't work right
    //             cookie: {
    //                 name: 'navgoco',
    //                 expires: false,
    //                 path: '/'
    //             },
    //             slide: {
    //                 duration: 400,
    //                 easing: 'swing'
    //             }
    //         });

    //         $("#collapseAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', false);
    //         });

    //         $("#expandAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', true);
    //         });

    //     });

    // </script>
    
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->
<nav class="stitch-docs-navbar">
    <div class="nav-left">
        <svg version="1.1" id="stitch_logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 556.9 556.9" style="enable-background:new 0 0 556.9 556.9;" xml:space="preserve" height="38" width="38">
        <style type="text/css">
        .st0{fill:#FFCC00;}
        </style>
        <path class="st0" d="M556.9,219.9V0H0v297.9h382.8v39H0v0v219.9h556.9V258.9H174.1v-39H556.9z M278.3,499.7
        c-15.1,0-27.4-12.3-27.4-27.4c0-15.1,12.3-27.4,27.4-27.4c15.1,0,27.4,12.3,27.4,27.4C305.7,487.5,293.5,499.7,278.3,499.7z
        M401.8,414.9h-247l11.8-39h224L401.8,414.9z M278.3,57.2c15.1,0,27.4,12.3,27.4,27.4c0,15.1-12.3,27.4-27.4,27.4
        c-15.1,0-27.4-12.3-27.4-27.4C250.9,69.4,263.2,57.2,278.3,57.2z M166.7,180.9l-11.8-39h247l-11.1,39H166.7z"></path>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fa fa-github fa-1" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <ul id="results-container"></ul>
                </div>
            </li>
        </ul>
    </div>
</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<div class="menu-list">

<ul id="mysidebar" class="nav">
        <!-- Stitch status widget -->
        <a class="status-page" href="http://status.stitchdata.com" target="_blank">
            <span class="color-dot"></span>
            <span class="color-description"></span>
        </a>

        
            <!-- Top-level items -->
            
                
                <li>
                    <a href="/docs/getting-started">Getting Started</a>
                
                
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#account--security" aria-expanded="false" aria-controls="account--security">
                        Account & Security 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="account--security">
                        
                            

                                <li>
                                    <a href="/docs/account-security/">Your Stitch Account</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs">Account Settings</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/managing-team-members">Invite Your Team</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/billing-faq">Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/understanding-stitch-billing-replicated-rows">Understand Your Usage</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/stitch-security">Security</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/cancelling-your-stitch-account">Cancel Your Account</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#destinations" aria-expanded="false" aria-controls="destinations">
                        Destinations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="destinations">
                        
                            

                                <li>
                                    <a href="/docs/destinations">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/choosing-a-stitch-destination">Choosing a Destination</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/redshift/">Amazon Redshift</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/bigquery/">Google BigQuery</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/panoply/">Panoply.io</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/postgresql/">PostgreSQL</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/snowflake/">Snowflake</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/switching-destinations">Change Destinations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#saas-integrations" aria-expanded="false" aria-controls="saas-integrations">
                        SaaS Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="saas-integrations">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#certified-integrations" aria-expanded="false" aria-controls="certified-integrations">
                                        Certified Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="certified-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-certified-integrations">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/adroll">AdRoll</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/desk">Desk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/facebook-ads">Facebook Ads</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-adwords">Google Adwords</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-analytics">Google Analytics</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-ecommerce">Google ECommerce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/hubspot/">HubSpot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/import-api/">Import API</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/intercom">Intercom</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/jira">JIRA</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/marketo">Marketo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/mixpanel">Mixpanel</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/netsuite">NetSuite</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/pardot">Pardot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/quickbooks">QuickBooks</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/recurly">Recurly</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/salesforce/">Salesforce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shopify">Shopify</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/stripe">Stripe</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/trello">Trello</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/xero">Xero</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk">Zendesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zuora">Zuora</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#community-integrations" aria-expanded="false" aria-controls="community-integrations">
                                        Community Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="community-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-community-integrations
">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/autopilot">Autopilot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/braintree">Braintree</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/freshdesk">Freshdesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/gitlab">GitLab</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/harvest">Harvest</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/outbrain">Outbrain</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/referral-saasquatch">Referral SaaSquatch</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shippo">Shippo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/square">Square</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/taboola">Taboola</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/urban-airship">Urban Airship</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/wootric">Wootric</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk-chat">Zendesk Chat</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/saas">All SaaS Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations">All Integrations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#database-integrations" aria-expanded="false" aria-controls="database-integrations">
                        Database Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="database-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/databases">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-aurora">Amazon Aurora</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-rds">Amazon RDS</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-mysql">Google CloudSQL MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-postgresql">Google CloudSQL PostgreSQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/heroku">Heroku</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/magento">Magento</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mariadb">MariaDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-sql-server">Microsoft SQL Server</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mongodb">MongoDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-azure">Microsoft Azure</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mysql">MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/postgresql">PostgreSQL</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#webhook-integrations" aria-expanded="false" aria-controls="webhook-integrations">
                        Webhook Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="webhook-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/webhooks">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/aftership">AfterShip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/branch">Branch</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/contentful">Contentful</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/customerio">Customer.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/delighted">Delighted</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/drip">Drip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/formkeep">FormKeep</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/iterable">Iterable</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mailjet">Mailjet</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mandrill">Mandrill</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/particleio">Particle.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/segment">Segment</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendgrid">SendGrid</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendwithus">SendWithUs</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sparkpost">SparkPost</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/stitch-incoming-webhooks">Incoming Webhooks</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/vero">Vero</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/zapier">Zapier</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#import-api" aria-expanded="false" aria-controls="import-api">
                        Import API 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="import-api">
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#auth">Authentication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#return-codes">Return Codes</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#methods" aria-expanded="false" aria-controls="methods">
                                        Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#status-method">Status</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#validate-method">Validate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#upsert-method">Upsert</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#extracting-data" aria-expanded="false" aria-controls="extracting-data">
                        Extracting Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="extracting-data">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replicate-data" aria-expanded="false" aria-controls="replicate-data">
                                        Replicate Data 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replicate-data">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-data">Select Data to Replicate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-new-additional-columns">Replicate New & Additional Columns</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replicating-database-views">Database Views</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-historical-saas-data-resetting-replication-keys">Historical SaaS Data</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-keys" aria-expanded="false" aria-controls="replication-keys">
                                        Replication Keys 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-keys">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys">Database Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs">MongoDB Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys#resetting-replication-keys">Reset Replication Keys</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-methods" aria-expanded="false" aria-controls="replication-methods">
                                        Replication Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods">Overview</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#incremental-replication">Incremental</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#append-only-incremental-replication">Append-Only</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#full-table-replication">Full Table</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-frequency">Replication Frequency</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/supported-data-types">Supported Data Types</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-methods#deleted-records--incremental-replication">Deletions</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#monitoring-progress" aria-expanded="false" aria-controls="monitoring-progress">
                                        Monitoring Progress 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="monitoring-progress">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/monitoring-replication-progress">Progress Summary</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/integration-extraction-logs">Extraction Logs</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#loading-data" aria-expanded="false" aria-controls="loading-data">
                        Loading Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="loading-data">
                        
                            

                                <li>
                                    <a href="/docs/data-structure/integration-schemas">Integration Schemas</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/loading-stitch-data-into-destinations">Loading Data into Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/nested-data-structures-row-count-impact">Nested Data & Row Counts</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/table-structural-changes">Table Schema Changes</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/querying-append-only-tables">Append-Only Tables</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/identifying-rejected-records">Rejected Records</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#analysis-integrations" aria-expanded="false" aria-controls="analysis-integrations">
                        Analysis Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="analysis-integrations">
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#analytics-integrations">Analytics</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#sql-editors">SQL Edtiors</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#data-science">Data Science</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#troubleshooting" aria-expanded="false" aria-controls="troubleshooting">
                        Troubleshooting 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="troubleshooting">
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/account">Account & Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/destinations">Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/integrations">Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/replication">Replication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/data-discrepancies">Data Discrepancies</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/error-notifications">Error Notifications</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/">All Troubleshooting</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
        
    </ul>
</div>
    </div>
    <div class="content-column">
        
        <div class="article">
            
        <div class="breadbox">
            <div class="breadcrumb-container">
                <div id="breadcrumb-menu" class="menu-left">
                    <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/integrations/">INTEGRATIONS</a>
  

  
    > <strong>IMPORT API</strong>
  


                </div>

                
            </div>
        </div>
        
            <div class="post-header">
    <h1 class="post-title-main">Import API</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    
        
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>
    

  
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<p>The Stitch Import API is a REST API that allows you to push arbitrary data into your data warehouse. Once the data enters the Import API, it’ll be processed and sent through Stitch like data from any other integration.</p>

<p>The Import API accepts JSON or <a href="https://github.com/cognitect/transit-format">Transit</a> and returns JSON for all of its <a href="#methods">methods</a>. Each method uses a standard HTTP verb (<code class="highlighter-rouge">GET/POST</code>) and standard HTTP response codes for <a href="#return-codes">returning statuses</a>.</p>

<p>Before you get started, consider where the data that you want to push currently lives: <strong>is it already in a <a href="/docs/integrations/databases">database</a> or <a href="/docs/integrations/saas">SaaS integration</a> we support?</strong> A few of our SaaS integrations allow you to sync data at the tabular level; all database integrations (except for Mongo) can be synced to the columnar level. In addition, you can define Replication Methods for tables that come from a database integration.</p>

<p>In short, unless you want complete control over data replication, it’s usually easier to use the native integration instead of using the Import API.</p>

<hr />

<h2 id="security">Security</h2>

<p>Data submitted to the Import API is handled according to <a href="/docs/account-security/stitch-security">Stitch’s security standards</a>.</p>

<hr />

<h2 id="prerequisites">Prerequisites</h2>

<p>To use the Import API:</p>

<ol>
  <li><strong>You must have a Stitch account</strong>. The Import API integration is available to all Stitch users, whether you’re on a Free or Paid tier.</li>
  <li><strong>You’ll need a bit of technical know-how</strong>. Anyone comfortable writing and maintaining a small Ruby or PHP script should be more than qualified.</li>
</ol>

<h3 id="request-requirements">Request Requirements</h3>

<p>Requests sent to the Import API:</p>

<ol>
  <li>
    <p>Must be valid JSON or Transit and specified in the request header. See the <a href="#upsert-method">Upsert</a> section for more info.</p>

    <p>For more info on working with Transit, check out the <a href="https://github.com/cognitect/transit-format">Transit GitHub repo</a>.</p>
  </li>
  <li>Must contain all of the required request body fields. See the <a href="#upsert-method">Upsert</a> section for more info.</li>
  <li>Must be less than 4MB</li>
  <li>Must not contain arrays of data with more than 10,000 individual data points</li>
</ol>

<p>More info about request requirements can be found in the <a href="#upsert-method">Upsert</a> section.</p>

<hr />

<h2 id="auth">Authentication</h2>

<p>Authentication with the Import API is done with a single API access token placed in the <code class="highlighter-rouge">Authorization</code> header of your request and <a href="#client-id">your client ID</a>, which will be used in the request body.</p>

<h3 id="generate-api-token">Step 1: Generate an API Access Token</h3>

<p>You can generate an API access token by logging into your Stitch account and adding an Import API integration:</p>

<h3 id="add-stitch-data-source">Add Import API as a Stitch Data Source</h3>

<ol>
  <li>On the Stitch Dashboard page, click the <strong>Add Integration</strong> button.</li>
  <li>
    <p>Click the <strong>Import API</strong> icon.</p>
  </li>
  <li>
    <p>Enter a name for the integration. This is the name that will display on the  for the integration; it’ll also be used to create the schema in your data warehouse.</p>

    <p>For example, the name “Stitch Import API” would create a schema called <code class="highlighter-rouge">stitch_import_api</code> in the data warehouse. <strong>Note that the schema name cannot be changed after you save the integration.</strong></p>
  </li>
  <li>Click the <strong>Save and Generate Token</strong> button.</li>
</ol>

<p>Your API access token has write access to your Stitch account, so <strong>keep it secret, keep it safe.</strong></p>

<p>Note that if someone does get ahold of your key, they won’t be able to <strong>access</strong> your data - they’ll only be able to send it. If at any time your API access token is lost or compromised, you can <a href="#revoke-access-token">revoke it and generate a new one</a>.</p>

<h4 id="request-header-auth-example">Example Request Header</h4>

<p>The API access token is used to authenticate to the Import API via bearer auth, as demonstrated in the example below:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">https</span><span class="p">:</span><span class="err">//api.stitchdata.com/v</span><span class="mi">2</span><span class="err">/import/push</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Authorization</span><span class="p">:</span><span class="w"> </span><span class="err">Bearer</span><span class="w"> </span><span class="err">&lt;</span><span class="w"> </span><span class="p">[</span><span class="err">access_token</span><span class="p">]</span><span class="w"> </span><span class="err">&gt;'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-d</span><span class="w"> </span><span class="err">@filename</span></code></pre></figure>

<h3 id="client-id">Step 2: Locate Your Client ID</h3>

<p>Your client ID is used in the request body in the <code class="highlighter-rouge">client_id</code> field to perform the second authentication step for the Import API.</p>

<p>Log into your Stitch account and look at the URL while you’re on the Stitch Dashboard page to find your client ID. It’s the number between <code class="highlighter-rouge">client</code> and <code class="highlighter-rouge">pipeline</code>:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">https</span><span class="p">:</span><span class="err">//app.stitchdata.com/v</span><span class="mi">2</span><span class="err">/client/XXXX/pipeline/connections</span><span class="w">    

    </span><span class="err">//</span><span class="w"> </span><span class="err">XXXX</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">where</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">client</span><span class="w"> </span><span class="err">ID</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">be</span></code></pre></figure>

<p>Note that your client ID can be between four and six digits.</p>

<h3 id="client-id-example">Example Request Body</h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">
  </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre></div></div>

<hr />

<h2 id="return-codes">Return Codes</h2>

<p>The Import API uses standard HTTP return codes to indicate the status of a request. Generally speaking, codes in:</p>

<ul>
  <li>the <code class="highlighter-rouge">2xx</code> range indicate success</li>
  <li>the <code class="highlighter-rouge">4xx</code> range indicate a bad request - for example: invalid or omitted credentials, a required field is missing, etc.</li>
  <li>the <code class="highlighter-rouge">5xx</code> range indicate an error on our end. We recommend checking our <a href="https://status.stitchdata.com/">status page</a> for reported outages if you receive a code in this range. If nothing has been reported and these errors persist, please reach out to our support team.</li>
</ul>

<p>Your app should handle each of the following return statuses gracefully:</p>

<table>
<tbody>

<tr>
<td width="27%; fixed" align="right"><strong>200 - OK</strong></td>
<td>Success. New data was added as a result of the request.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>201 - Created</strong></td>
<td>The request was accepted and will be processed later; new data will be added once the request is processed.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>400 - Bad Request</strong></td>
<td>The request includes malformed JSON/Transit, did not provide an array of records, or contains more than 20,000 records.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>401 - Unauthorized</strong></td>
<td>The request did not have a valid API access token. You should <a href="#generate-api-token">generate a new token</a> and re-try your request.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>403 - Forbidden</strong></td>
<td>The request had a valid API access token, but is not permitted. You should check that the <code class="highlighter-rouge">client_id</code> field in your request contains the correct client ID.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>405 - Method Not Allowed</strong></td>
<td>The request has an HTTP method that is not supported by the endpoint. <code class="highlighter-rouge">POST</code> and <code class="highlighter-rouge">GET</code> are supported by the Import API. Check that you’re using the correct HTTP method.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>413 Request Entity Too Large</strong></td>
<td>The size of the request body was over 4MB.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>415 Unsupported Media Type</strong></td>
<td>The content header of the request did not specify JSON or Transit.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>422 Unprocessable Entity</strong></td>
<td>The request is missing a required parameter. Check that the array of records in the request contain all of the <a href="#required-request-body-fields">required request body fields</a>.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>503 Service Unavailable</strong></td>
<td>The Import API is experiencing problems. Try again later.</td>
</tr>

<tr>
<td width="27%; fixed" align="right"><strong>504 Gateway Timeout</strong></td>
<td>The Import API could not process the request in time. Try again later.</td>
</tr>

</tbody>
</table>

<hr />

<h2 id="methods">Methods</h2>

<p>The Import API supports three methods:</p>

<ul>
  <li><a href="#status-method">Status</a> - The <code class="highlighter-rouge">status</code> endpoint can be used to determine if the Import API is operating correctly. This endpoint doesn’t require any authentication.</li>
  <li><a href="#validate-method">Validate</a> - The <code class="highlighter-rouge">validate</code> endpoint can be used to validate requests but will <strong>not</strong> persist them to Stitch. We recommend using this endpoint for development and testing.</li>
  <li><a href="#upsert-method">Upsert</a> - The <code class="highlighter-rouge">upsert</code> endpoint is used to push data into your data warehouse.</li>
</ul>

<h3 id="status-method">Status</h3>
<p>The <code class="highlighter-rouge">status</code> endpoint can be used to determine if the Import API is operating correctly. This endpoint doesn’t require any authentication.</p>

<h4 id="example-status-request">Example Request</h4>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">curl</span><span class="w"> </span><span class="err">-i</span><span class="w"> </span><span class="err">https</span><span class="p">:</span><span class="err">//api.stitchdata.com/v</span><span class="mi">2</span><span class="err">/import/status</span><span class="w">

</span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">Import</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">operating</span><span class="w"> </span><span class="err">correctly.</span><span class="w">
</span><span class="mi">503</span><span class="w"> </span><span class="err">Service</span><span class="w"> </span><span class="err">Unavailable</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">The</span><span class="w"> </span><span class="err">Import</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">experiencing</span><span class="w"> </span><span class="err">problems.</span><span class="w"> </span><span class="err">Do</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">attempt</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">post</span><span class="w"> </span><span class="err">any</span><span class="w"> </span><span class="err">data.</span></code></pre></figure>

<h4 id="example-status-response">Example Response</h4>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">HTTP/</span><span class="mf">1.1</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">
</span><span class="err">Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json;charset=UTF</span><span class="mi">-8</span><span class="w">
</span><span class="err">Date</span><span class="p">:</span><span class="w"> </span><span class="err">Thu</span><span class="p">,</span><span class="w"> </span><span class="mi">07</span><span class="w"> </span><span class="err">Jan</span><span class="w"> </span><span class="mi">2016</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span><span class="mi">37</span><span class="w"> </span><span class="err">GMT</span><span class="w">
</span><span class="err">Server</span><span class="p">:</span><span class="w"> </span><span class="err">http-kit</span><span class="w">
</span><span class="err">Vary</span><span class="p">:</span><span class="w"> </span><span class="err">Accept</span><span class="w">
</span><span class="err">Content-Length</span><span class="p">:</span><span class="w"> </span><span class="mi">53</span><span class="w">
</span><span class="err">Connection</span><span class="p">:</span><span class="w"> </span><span class="err">keep-alive</span><span class="w">

</span><span class="p">{</span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"pipeline.gate"</span><span class="p">,</span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"OK"</span><span class="p">}</span></code></pre></figure>

<h3 id="validate-method">Validate</h3>

<p>The <code class="highlighter-rouge">validate</code> endpoint can be used to validate requests but will <strong>not</strong> persist them to Stitch. This endpoint will validate your credentials, meaning you can check your token or <code class="highlighter-rouge">client-id</code> while developing and testing. If either credentials are invalid, a <code class="highlighter-rouge">403 Not Authenticated</code> message will be returned.</p>

<p>The behavior of this endpoint mirrors that of the <code class="highlighter-rouge">upsert</code> endpoint, with two exceptions:</p>

<ul>
  <li>If the request is valid, a <code class="highlighter-rouge">200 OK</code> response will be returned.</li>
  <li>Regardless of whether Stitch is functional, a <code class="highlighter-rouge">503 Service Unavailable</code> response will never be returned.</li>
</ul>

<h4 id="example-validate-request">Example Request</h4>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">https</span><span class="p">:</span><span class="err">//api.stitchdata.com/v</span><span class="mi">2</span><span class="err">/import/validate</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Authorization</span><span class="p">:</span><span class="w"> </span><span class="err">Bearer</span><span class="w"> </span><span class="err">&lt;</span><span class="w"> </span><span class="err">access-token</span><span class="w"> </span><span class="err">&gt;'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-\d</span><span class="w"> </span><span class="err">@filename</span><span class="w">

</span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
      </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">
      </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h3 id="upsert-method">Upsert</h3>

<p>The <code class="highlighter-rouge">upsert</code> endpoint is used to push data into your data warehouse. In addition to the <a href="#required-request-body-fields">required request body fields</a> this endpoint <strong>will only accept requests that contain the following properties</strong>:</p>

<ul>
  <li>The data being sent must be valid JSON or <a href="https://github.com/cognitect/transit-format">Transit</a> AND specified in the request header: <code class="highlighter-rouge">Content-Type: application/json</code></li>
  <li>If a Primary Key is a <code class="highlighter-rouge">string</code>, it must be 256 characters or less.</li>
  <li>An array of data cannot contain more than 10,000 individual data points.</li>
  <li>The request body cannot be larger than 4MB.</li>
</ul>

<h4 id="example-upsert-request-header">Example Request Header</h4>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">curl</span><span class="w"> </span><span class="err">-X</span><span class="w"> </span><span class="err">POST</span><span class="w"> </span><span class="err">https</span><span class="p">:</span><span class="err">//api.stitchdata.com/v</span><span class="mi">2</span><span class="err">/import/push</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Content-Type</span><span class="p">:</span><span class="w"> </span><span class="err">application/json'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-H</span><span class="w"> </span><span class="err">'Authorization</span><span class="p">:</span><span class="w"> </span><span class="err">Bearer</span><span class="w"> </span><span class="err">&lt;</span><span class="w"> </span><span class="err">access-token</span><span class="w"> </span><span class="err">&gt;'</span><span class="w"> </span><span class="err">\</span><span class="w">
	</span><span class="err">-\d</span><span class="w"> </span><span class="err">@filename</span></code></pre></figure>

<h4 id="required-request-body-fields">Required Request Body Fields</h4>

<p>For the Import API to successfully accept and process your data, your request body must contain all of the request body fields listed below:</p>

<table>
<tbody>

<tr>
<td width="18%; fixed" align="right"><strong>client_id</strong></td>
<td>This field must contain your <a href="#client-id">client ID</a>.</td>
</tr>

<tr>
<td width="18%; fixed" align="right"><strong>table_name</strong></td>
<td>This field contains the name of the destination table, ex: <code class="highlighter-rouge">users</code>. See <a href="#defining-tables">Defining Tables</a> for more info.</td>
</tr>

<tr>
<td width="18%; fixed" align="right"><strong>sequence</strong></td>
<td>This property tells the Import API the order in which data points in the request body should be considered. See <a href="#defining-the-sequence">Defining Sequence</a> for more info.</td>
</tr>

<tr>
<td width="18%; fixed" align="right"><strong>action</strong></td>
<td>This field contains the action for the endpoint. For the Upsert endpoint, it will always be <code class="highlighter-rouge">upsert</code>.</td>
</tr>

<tr>
<td width="18%; fixed" align="right"><strong>key_names</strong></td>
<td>This field defines the Primary Key and will contain an array of field names that uniquely identify the row that the record belongs to.</td>
</tr>

<tr>
<td width="18%; fixed" align="right"><strong>data</strong></td>
<td>This field contains the data to be upserted into your data warehouse.</td>
</tr>

</tbody>
</table>

<p>If the request was successful, the response will have an HTTP status code of <code class="highlighter-rouge">201 Created</code> and an empty body.</p>

<h4 id="defining-tables">Define Tables</h4>

<p>When you push data to an arbitrary table name using the Import API, the table will be generated dynamically in your data warehouse. When creating requests, keep the following in mind:</p>

<ol>
  <li><strong>The Import API doesn’t enforce any limitation on the hierarchy of your tables.</strong></li>
  <li><strong>There aren’t any commands to create or destroy a table in the Import API.</strong></li>
  <li><strong>You should create one table for each type of data point that you’ll push.</strong> For example: if you have customer and product data, you should create <code class="highlighter-rouge">customer</code> and <code class="highlighter-rouge">product</code> tables.</li>
  <li><strong>Each data point pushed to a single table should have the same data structure.</strong> For example: if a <code class="highlighter-rouge">customers</code> table contains <code class="highlighter-rouge">customer_id</code>, <code class="highlighter-rouge">name</code>, and <code class="highlighter-rouge">email</code> columns, every customer record pushed into this table should contain those columns.</li>
  <li><strong>You can push more than one table using the same API access token.</strong> Think of it this way: one schema for each API access token. All tables pushed using the same API access token will be housed in the same schema in your data warehouse.</li>
</ol>

<h4 id="defining-the-sequence">Define the Sequence</h4>

<p>Sequence properties communicate the order in which data points should be considered – newer data points can replace older ones, but not vice versa.</p>

<p>Every data point pushed to the Import API must have a <code class="highlighter-rouge">sequence</code> property.</p>

<p>A simple solution is just to use the current timestamp, but before doing so, consider the following:</p>

<ol>
  <li>
    <p><strong>Are the rows being considered frequently updated?</strong>
Rows that are updated every few milliseconds can result in failure if records with identical key values are pushed simultaneously. This means that records with the same key values cannot be sent during the same clock resolution.</p>

    <p>For example: if the resolution is measured in milliseconds, records with identical key values cannot be sent during the same millisecond.</p>
  </li>
  <li>
    <p><strong>Are the records coming from multiple sources?</strong>
If records from multiple sources will be sent to the Import API, the time clocks of these sources must be synchronized. This is especially important if different sources are pushing rows to the same table.</p>
  </li>
</ol>

<h5 id="sequence-example">Sequence Example</h5>

<p>Take a look at the following example. The first three requests are all for one record (<code class="highlighter-rouge">id 10</code>), while the fourth is for a different record (<code class="highlighter-rouge">id 22</code>).</p>

<p>If the requests were received in this order:</p>

<ul>
  <li>Requests 1 and 2 would continue to Stitch, but not Request 3. This is because Request 3 has a <strong>lower</strong> sequence value than Request 2.</li>
  <li>Request 4 would continue to Stitch.</li>
</ul>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"canceled"</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="mi">3</span><span class="w">
   </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
   </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"id"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">
   </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">[</span><span class="w">
 </span><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4231</span><span class="p">,</span><span class="w">              </span><span class="err">//</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="s2">"table_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"users"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
  </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upsert"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
   </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<hr />

<h2 id="revoke-access-token">Revoke Import API Access Tokens</h2>

<div class="alert alert-warning" role="alert"><i class="fa fa-warning"></i> <b>Important:</b> We recommend that you generate a new token before revoking the old one. If you revoke access first, the connection to your data will be interrupted.</div>

<ol>
  <li>On the Stitch Dashboard page, click the <strong>Import API</strong> integration that needs a new token.</li>
  <li>When the Integration Details page displays, click <strong>Settings</strong>.</li>
  <li>In the <strong>API Access Tokens</strong> section, you’ll see a list of tokens currently in use:
<img src="/docs/images/integrations/import-api-revoke-token.png" alt="Revoking an Import API token." /></li>
  <li>If you haven’t already generated a new token, click <strong>Generate</strong> to do so now.</li>
  <li>
    <p>Once the new token has been generated, click the <strong>Revoke</strong> button next to the token you need to revoke.</p>

    <p>Note that the tokens are listed by creation date - if you generated a new token, you’ll want to revoke the oldest token.
<br /><br /></p>
  </li>
</ol>



<!-- GitHub Feedback snippet -->

    
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->






<table width="100%" class="related-articles">
    <tbody>
        <tr>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Related</span>
            </td>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Troubleshooting</span>
            </td>
        </tr>
        <tr>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->




<!-- INTEGRATIONS -->

<!-- All integrations -->

	<ul>
		<li>
			<a href="/docs/destinations/destination-integration-compatibility">Destination & Integration Compatibility</a>
		</li>
		
			<li>
				<a href="/docs/replication/replication-frequency">Replication Frequency</a>
			</li>
		


<!-- Webhook Integrations -->



<!-- Database Integrations -->




<!-- SaaS integrations -->




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->




<!-- INTEGRATIONS -->

<!-- Database integration pages only -->



<!-- SaaS integration pages only -->



<!-- All integration pages -->

	<li>
		<a href="/docs/account-security/understanding-stitch-billing-replicated-rows">Understanding & Reducing Your Usage</a>
	</li>
	
		<li>
			<a href="/docs/troubleshooting/integrations/reauthorizing-integrations">Re-Authorizing Integrations</a>
		</li>
	
	<li>
		<a href="/docs/troubleshooting/replication">Replication Issues</a>
	</li>
</ul>




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        </tr>
    </tbody>
</table>


    <hr>

<span class="h2">Questions? Feedback?</span>

<p>Did this article help? If you have questions or feedback, feel free to <a target="_blank" href="https://github.com/stitchdata/docs/blob/master/_saas-integrations/import-api.md">submit a pull request</a> with your suggestions, <a href="https://github.com/stitchdata/docs/issues" target="new">open an issue on GitHub</a>, or <a href="mailto: help@stitchdata.com">reach out to us</a>.</p>


<!-- Page tags -->
    

    
        <div class="tags">
            <b>Tags: </b>
            
            
                
                    <a href="/docs/tag_import_api" class="btn btn-default navbar-btn cursorNorm" role="button">import api</a>
                
            
        </div>
    

</div>

<footer>
	&copy;2017 Stitch. All rights reserved. <br />
	 Site last generated: Dec 12, 2017 <br />
	<!--<p><img src="/docs/images/company_logo.png" alt="Company logo"/></p>-->
</footer>



        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Algolia search -->
<script type="text/javascript">
docsearch({
  apiKey: '436dcd76593779a2261b623269cf5cfd',
  indexName: 'stitchdata',
  inputSelector: '#search-input',
  debug: false, // Set debug to true if you want to inspect the dropdown
  algoliaOptions: {
    hitsPerPage: 10 // Controls how many results display in the dropdown
  }
});
</script>

</body>
</html>