<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Ready to spin up a Redshift data warehouse and connect it to Stitch? This step-by-step tutorial will walk you through every part of the process.">
<meta name="keywords" content="redshift_destination,  redshift, amazon redshift, redshift data warehouse, etl to redshift, redshift etl, create redshift user, stitch redshift user, stitch user">
<title>Connecting an Amazon Redshift Data Warehouse to Stitch | Stitch Documentation</title>

<meta property="og:title" content="Connecting an Amazon Redshift Data Warehouse to Stitch | Stitch Documentation" />
<meta property="og:description" content="Ready to spin up a Redshift data warehouse and connect it to Stitch? This step-by-step tutorial will walk you through every part of the process." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon.png" />

<meta name=viewport content="width=1100, user-scalable=1">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link href="/docs/images/apple-icon-57x57.png" rel="apple-touch-icon" type="image/png" />
<link href="/docs/images/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" type="image/png" />
<link href="/docs/images/apple-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="shortcut icon" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="icon" type="image/png" />

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- TYPEKIT -->
<script src="https://use.typekit.net/hjq2wqe.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->

    // <script>
    //     $(document).ready(function() {
    //         // Initialize navgoco with default options
    //         $("#mysidebar").navgoco({
    //             caretHtml: '',
    //             accordion: true,
    //             openClass: 'active', // open
    //             save: false, // leave false or nav highlighting doesn't work right
    //             cookie: {
    //                 name: 'navgoco',
    //                 expires: false,
    //                 path: '/'
    //             },
    //             slide: {
    //                 duration: 400,
    //                 easing: 'swing'
    //             }
    //         });

    //         $("#collapseAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', false);
    //         });

    //         $("#expandAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', true);
    //         });

    //     });

    // </script>
    
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->
<nav class="stitch-docs-navbar">
    <div class="nav-left">
        <svg version="1.1" id="stitch_logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 556.9 556.9" style="enable-background:new 0 0 556.9 556.9;" xml:space="preserve" height="38" width="38">
        <style type="text/css">
        .st0{fill:#FFCC00;}
        </style>
        <path class="st0" d="M556.9,219.9V0H0v297.9h382.8v39H0v0v219.9h556.9V258.9H174.1v-39H556.9z M278.3,499.7
        c-15.1,0-27.4-12.3-27.4-27.4c0-15.1,12.3-27.4,27.4-27.4c15.1,0,27.4,12.3,27.4,27.4C305.7,487.5,293.5,499.7,278.3,499.7z
        M401.8,414.9h-247l11.8-39h224L401.8,414.9z M278.3,57.2c15.1,0,27.4,12.3,27.4,27.4c0,15.1-12.3,27.4-27.4,27.4
        c-15.1,0-27.4-12.3-27.4-27.4C250.9,69.4,263.2,57.2,278.3,57.2z M166.7,180.9l-11.8-39h247l-11.1,39H166.7z"></path>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fa fa-github fa-1" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <ul id="results-container"></ul>
                </div>
            </li>
        </ul>
    </div>
</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<div class="menu-list">

<ul id="mysidebar" class="nav">
        <!-- Stitch status widget -->
        <a class="status-page" href="http://status.stitchdata.com" target="_blank">
            <span class="color-dot"></span>
            <span class="color-description"></span>
        </a>

        
            <!-- Top-level items -->
            
                
                <li>
                    <a href="/docs/getting-started">Getting Started</a>
                
                
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#account--security" aria-expanded="false" aria-controls="account--security">
                        Account & Security 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="account--security">
                        
                            

                                <li>
                                    <a href="/docs/account-security/">Your Stitch Account</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs">Account Settings</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/managing-team-members">Invite Your Team</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/billing-faq">Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/understanding-stitch-billing-replicated-rows">Understand Your Usage</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/stitch-security">Security</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/cancelling-your-stitch-account">Cancel Your Account</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#destinations" aria-expanded="false" aria-controls="destinations">
                        Destinations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="destinations">
                        
                            

                                <li>
                                    <a href="/docs/destinations">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/choosing-a-stitch-destination">Choosing a Destination</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/redshift/">Amazon Redshift</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/bigquery/">Google BigQuery</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/panoply/">Panoply.io</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/postgresql/">PostgreSQL</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/snowflake/">Snowflake</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/switching-destinations">Change Destinations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#saas-integrations" aria-expanded="false" aria-controls="saas-integrations">
                        SaaS Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="saas-integrations">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#certified-integrations" aria-expanded="false" aria-controls="certified-integrations">
                                        Certified Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="certified-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-certified-integrations">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/adroll">AdRoll</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/desk">Desk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/facebook-ads">Facebook Ads</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-adwords">Google Adwords</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-analytics">Google Analytics</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-ecommerce">Google ECommerce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/hubspot/">HubSpot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/import-api/">Import API</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/intercom">Intercom</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/jira">JIRA</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/marketo">Marketo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/mixpanel">Mixpanel</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/netsuite">NetSuite</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/pardot">Pardot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/quickbooks">QuickBooks</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/recurly">Recurly</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/salesforce/">Salesforce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shopify">Shopify</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/stripe">Stripe</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/trello">Trello</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/xero">Xero</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk">Zendesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zuora">Zuora</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#community-integrations" aria-expanded="false" aria-controls="community-integrations">
                                        Community Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="community-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-community-integrations
">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/autopilot">Autopilot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/braintree">Braintree</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/freshdesk">Freshdesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/gitlab">GitLab</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/harvest">Harvest</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/outbrain">Outbrain</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/referral-saasquatch">Referral SaaSquatch</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shippo">Shippo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/square">Square</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/taboola">Taboola</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/urban-airship">Urban Airship</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/wootric">Wootric</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk-chat">Zendesk Chat</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/saas">All SaaS Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations">All Integrations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#database-integrations" aria-expanded="false" aria-controls="database-integrations">
                        Database Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="database-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/databases">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-aurora">Amazon Aurora</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-rds">Amazon RDS</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-mysql">Google CloudSQL MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-postgresql">Google CloudSQL PostgreSQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/heroku">Heroku</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/magento">Magento</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mariadb">MariaDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-sql-server">Microsoft SQL Server</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mongodb">MongoDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-azure">Microsoft Azure</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mysql">MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/postgresql">PostgreSQL</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#webhook-integrations" aria-expanded="false" aria-controls="webhook-integrations">
                        Webhook Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="webhook-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/webhooks">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/aftership">AfterShip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/branch">Branch</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/contentful">Contentful</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/customerio">Customer.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/delighted">Delighted</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/drip">Drip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/formkeep">FormKeep</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/iterable">Iterable</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mailjet">Mailjet</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mandrill">Mandrill</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/particleio">Particle.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/segment">Segment</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendgrid">SendGrid</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendwithus">SendWithUs</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sparkpost">SparkPost</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/stitch-incoming-webhooks">Incoming Webhooks</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/vero">Vero</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/zapier">Zapier</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#import-api" aria-expanded="false" aria-controls="import-api">
                        Import API 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="import-api">
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#auth">Authentication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#return-codes">Return Codes</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#methods" aria-expanded="false" aria-controls="methods">
                                        Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#status-method">Status</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#validate-method">Validate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#upsert-method">Upsert</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#extracting-data" aria-expanded="false" aria-controls="extracting-data">
                        Extracting Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="extracting-data">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replicate-data" aria-expanded="false" aria-controls="replicate-data">
                                        Replicate Data 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replicate-data">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-data">Select Data to Replicate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-new-additional-columns">Replicate New & Additional Columns</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replicating-database-views">Database Views</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-historical-saas-data-resetting-replication-keys">Historical SaaS Data</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-keys" aria-expanded="false" aria-controls="replication-keys">
                                        Replication Keys 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-keys">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys">Database Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs">MongoDB Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys#resetting-replication-keys">Reset Replication Keys</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-methods" aria-expanded="false" aria-controls="replication-methods">
                                        Replication Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods">Overview</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#incremental-replication">Incremental</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#append-only-incremental-replication">Append-Only</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#full-table-replication">Full Table</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-frequency">Replication Frequency</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/supported-data-types">Supported Data Types</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-methods#deleted-records--incremental-replication">Deletions</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#monitoring-progress" aria-expanded="false" aria-controls="monitoring-progress">
                                        Monitoring Progress 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="monitoring-progress">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/monitoring-replication-progress">Progress Summary</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/integration-extraction-logs">Extraction Logs</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#loading-data" aria-expanded="false" aria-controls="loading-data">
                        Loading Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="loading-data">
                        
                            

                                <li>
                                    <a href="/docs/data-structure/integration-schemas">Integration Schemas</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/loading-stitch-data-into-destinations">Loading Data into Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/nested-data-structures-row-count-impact">Nested Data & Row Counts</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/table-structural-changes">Table Schema Changes</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/querying-append-only-tables">Append-Only Tables</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/identifying-rejected-records">Rejected Records</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#analysis-integrations" aria-expanded="false" aria-controls="analysis-integrations">
                        Analysis Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="analysis-integrations">
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#analytics-integrations">Analytics</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#sql-editors">SQL Edtiors</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#data-science">Data Science</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#troubleshooting" aria-expanded="false" aria-controls="troubleshooting">
                        Troubleshooting 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="troubleshooting">
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/account">Account & Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/destinations">Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/integrations">Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/replication">Replication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/data-discrepancies">Data Discrepancies</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/error-notifications">Error Notifications</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/">All Troubleshooting</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
        
    </ul>
</div>
    </div>
    <div class="content-column">
        
        <div class="article">
            
        <div class="breadbox">
            <div class="breadcrumb-container">
                <div id="breadcrumb-menu" class="menu-left">
                    <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/destinations/">DESTINATIONS</a>
  

  
    > <a href="/docs/destinations/redshift/">REDSHIFT</a>
  

  
    > <strong>CONNECTING AN AMAZON REDSHIFT DATA WAREHOUSE TO STITCH</strong>
  


                </div>

                
            </div>
        </div>
        
            <div class="post-header">
    <h1 class="post-title-main">Connecting an Amazon Redshift Data Warehouse to Stitch</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    
        
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>
    

  
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->





<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
This tutorial describes how to spin up a Redshift cluster and connect it to Stitch via a <strong>direct connection</strong>.<br /><br />

Looking for help setting up an <strong>SSH connection?</strong> Refer to the <a href="/docs/destinations/redshift/connecting-redshift-data-warehouse-to-stitch-ssh-tunnel">Connecting a Redshift Data Warehouse via SSH Tunnel</a> guide.
</div>




<!-- If there are any requirements for setting up the destination, display them here. -->

    <h2 id="setup-requirements"> Setup Requirements</h2>
        <p>To set up  in Stitch, you need:</p>
        <ul>
        
            <li>
                <p><strong>An Amazon Web Services (AWS) account.</strong> Signing up is free - <a href="https://aws.amazon.com" target="new">click here</a> or go to <code class="highlighter-rouge">https://aws.amazon.com</code> to create an account if you don’t have one already.</p>

            </li>
        
            <li>
                <p><strong>Some technical know-how and familiarity with AWS.</strong></p>

            </li>
        
            <li>
                <p><strong>Optional: Create a non-default VPC</strong>. A VPC, or Virtual Private Cloud, is a scalable virtual network that resembles a traditional network used in a data center.</p>

<p>All AWS accounts created after December 3, 2014, <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/default-vpc.html">include a default VPC in each AWS region</a>. This means that you can use the default VPC to launch your Redshift cluster instead of spinning up your own.</p>

<p>Steps for creating a VPC are outside the scope of this tutorial, so the examples in this guide will use a default VPC.</p>

<p>This is optional, but if you want to use your own VPC, you need to create it before continuing. <a href="http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html">Amazon’s Getting Started with VPC guide</a> can walk you through how to do this. <strong>Note that the cluster you use for Stitch must reside in a publicly accessible subnet.</strong></p>

            </li>
        
        </ul>

    <!-- If there's any additional info about the requirements, display them here. -->
    


<hr>    

<!-- Markdown gets cranky about spacing, so keep everything flush left. Otherwise the formatting won't render. -->

<!-- CONNECTION INSTRUCTION STEPS -->

    
        <h2 id="create-cluster-login-credentials">
            Step 1: Create Cluster Login Credentials
        </h2>

    
    
    <p>To get started, sign into your AWS account and navigate to the <strong>Redshift Dashboard page</strong>. As of December 13, 2016, you can get there by clicking <strong>Services</strong> (top left corner), then clicking <strong>Redshift</strong> in the <strong>Databases</strong> section.</p>

<ol>
  <li>On the Redshift Dashboard page, click the <strong>Lauch Cluster</strong> button.</li>
  <li>The <strong>Cluster Details</strong> page will display.</li>
  <li>Fill in the cluster details:
    <ul>
      <li><strong>Cluster Identifier:</strong> This is the unique key that defines a cluster.</li>
      <li><strong>Database Name:</strong> This is the initial database for the cluster.</li>
      <li><strong>Port:</strong> A port is an opening in a firewall that allows in and outbound traffic. By default, Redshift uses port <code class="highlighter-rouge">5439</code>.</li>
    </ul>
  </li>
  <li>Next, you’ll create the <a href="http://docs.aws.amazon.com/redshift/latest/dg/t_adding_redshift_user_cmd.html">master login credentials</a>. You can use these credentials to connect Stitch to your Redshift cluster if you like, or if you want to be more selective with the permissions, you can create an additional user for Stitch later on in the tutorial.
    <ul>
      <li><strong>Master User Name:</strong> This is the name of the master user for the cluster.</li>
      <li><strong>Master User Password:</strong> This is the password associated with the cluster’s master user.</li>
    </ul>
  </li>
  <li>Re-enter the master user’s password to confirm it.</li>
  <li>Click <strong>Continue.</strong></li>
</ol>


    

    

<hr>

    
        <h2 id="select-nodes--cluster-types">
            Step 2: Select Nodes & Cluster Types
        </h2>

    
    
    <p>On the <strong>Node Configuration page</strong>, you’ll select the node type, define the cluster type, and decide how many nodes to use.</p>

<div class="bs-callout bs-callout-info">
A <strong>node</strong> is a single computer that participates in a cluster. A Redshift cluster can have one to many nodes; the more nodes, the more data it can store and the faster it can process queries. Amazon currently offers <a href="http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#rs-about-clusters-and-nodes">four different types of nodes</a>, each of which has its own CPU, RAM, storage capacity, and storage drive type. In addition, each node also has its own pricing plan.<br /><br />

The type and number of node(s) you choose when creating your cluster is dependent on your needs and dataset. We do, however, recommend you set up a multi-node configuration to provide data redundancy. For some guidance on choosing the number of nodes, <a href="http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#how-many-nodes" target="new">click here</a> to read the ‘Determining the Number of Nodes’ section of the Amazon Redshift guide.
</div>

<ol>
  <li>Select the <strong>Node Type</strong> you want to use.</li>
  <li>Select the <strong>Cluster Type</strong>.</li>
  <li>Enter the number of <strong>Compute Nodes</strong> you want to use.</li>
  <li>Click <strong>Continue</strong>.</li>
</ol>


    

    

<hr>

    
        <h2 id="configure-launch-cluster">
            Step 3: Configure & Launch the Redshift Cluster
        </h2>

    
    
    <p>Next, you’ll define the additional configuration settings for the Redshift cluster. For our purposes, we’re going to leave most of the settings as-is and focus on the <strong>Configure Networking Options</strong> and <strong>Security Groups</strong> sections.</p>


    
        

        
            

            <h3 id="configure-cluster-networking-options">
                Step 3.1: Configure Networking Options
            </h3>

            <p>In the <strong>Configure Networking Options</strong> section, define these fields:</p>

<ul>
  <li>
    <p><strong>Choose a VPC:</strong> From the drop-down, select the VPC you want to launch the cluster in. This will also cause the other required fields to display.</p>
  </li>
  <li>
    <p><strong>Cluster Subnet Group:</strong> Set this to a public subnet in your account. <strong>Note a public subnet is required for the connection to be successful.</strong></p>

    <p>The default VPC included with all new AWS accounts also includes a default public subnet, which is what we’re using here.</p>
  </li>
  <li>
    <p><strong>Publicly Accessible:</strong> Set this to <strong>Yes.</strong> This must be set to Yes for Stitch to access your Redshift instance.</p>
  </li>
</ul>



            
        
            

            <h3 id="define-cluster-security-group">
                Step 3.2: Define a Security Group
            </h3>

            <p>The last step to configuring your cluster is to define the Security Group associated with the cluster.</p>

<p>In the <strong>VPC Security Groups</strong> section, select the Security Group you want to associate with the cluster.</p>

<p>We’re using the default Security Group that’s included with all new AWS accounts, but you can choose any one you like. You’ll edit the access rules for the Security Group in the next section, which will allow the group to access the cluster.</p>

<p>Here’s what the configuration looks like for our sample cluster:</p>

<p><img src="/docs/images/destinations/redshift-additional-configuration.png" alt="Redshift Additional Configuration page." /></p>

<p>When finished, click the <strong>Continue</strong> button.</p>


            
        
            

            <h3 id="review-launch-cluster">
                Step 3.3: Review & Launch the Redshift Cluster
            </h3>

            <p>A review page containing all the details about your cluster (except for the master password) will display after you click <strong>Continue</strong> on the Additional Configuration page.</p>

<p>Additionally, the pricing info for the cluster will display at the bottom of the page.</p>

<p>After you’ve reviewed and confirmed the settings, click <strong>Launch Cluster</strong> to launch the cluster. <strong>Note that this process can take a few minutes</strong> - the status in the Cluster Dashboard page will change to ‘available’ when the process completes.</p>


            
        
    

    

<hr>

    
        <h2 id="configure-security-access-settings">
            Step 4: Configure Security & Access Settings
        </h2>

    
    
    <p>When the cluster creation process is complete, you can move onto editing the cluster security group’s access rules.</p>

<p>To ensure that Stitch can access your Redshift instance and load data into your data warehouse, you’ll create a Security Group Connection Rule for the security group associated with the cluster. This will whitelist the IP addresses Stitch uses and ensure we can access your Redshift.</p>

<ol>
  <li>On the <strong>Redshift Dashboard page</strong>, click the <strong>Clusters</strong> option in the left nav bar.</li>
  <li>In the Clusters page, locate and click on the cluster you just created. This will display the <strong>Cluster Details</strong> page.</li>
  <li>Locate the <strong>Cluster Properties</strong> section.</li>
  <li>Click the name of the security group in the <strong>VPC Security Groups</strong> field.</li>
  <li>This will open the <strong>Security Groups</strong> page.</li>
  <li>The Security Group associated with your Redshift instance should automatically open in the Security Groups page. If it doesn’t, click the name of the appropriate group.</li>
  <li>
    <p>The Security Group’s details will display in tabs in the bottom part of the page. Click the <strong>Inbound</strong> tab:</p>

    <p><img src="/docs/images/destinations/aws-security-group-page.png" alt="The Security Group page in AWS" /></p>
  </li>
  <li>In the Inbound tab, click the <strong>Edit</strong> button. This will open the <strong>Edit inbound rules</strong> window.</li>
  <li>This is where you’ll add the IP addresses that can access the instance. Fill out the fields in this screen as follows:
    <ul>
      <li><strong>Type:</strong> Select <strong>Custom TCP Rule</strong> from the drop-down.</li>
      <li><strong>Protocol:</strong> This will default to <strong>TCP</strong> - leave it as-is.</li>
      <li><strong>Port Range:</strong> Enter the port associated with the instance. This will be the same port you used to create the instance. (<code class="highlighter-rouge">5439</code> is the default)</li>
      <li>
        <p><strong>Source:</strong> The drop-down will default to <strong>Custom</strong> - leave it as-is.</p>

        <p>In the field next to the drop-down, copy and paste one of the following IP addresses. You need to add them one at a time, meaning each IP address gets its own rule:</p>

        <ul>
          <li>
            <p>52.23.137.21/32</p>
          </li>
          <li>
            <p>52.204.223.208/32</p>
          </li>
          <li>
            <p>52.204.228.32/32</p>
          </li>
          <li>
            <p>52.204.230.227/32</p>
          </li>
        </ul>

        <p>Below is an example of what a rule should look like:</p>

        <p><img src="/docs/images/destinations/aws-whitelisting-inbound-rules.png" alt="Whitelisting Stitch IP addresses through Inbound Security Group rules." /></p>
      </li>
    </ul>
  </li>
  <li>Click <strong>Add Rule</strong> to add an additional Inbound rule.</li>
  <li>Repeat the previous two steps until all of Stitch’s IP addresses (along with any others you may want to whitelist) have been added.</li>
  <li>Click <strong>Save</strong>.</li>
</ol>


    

    

<hr>

    
        <h2 id="create-database-user">
            Step 5: Create a Stitch  User
        </h2>

    
    
    <p>As we mentioned when you created the instance, the credentials used to launch belong to the <a href="http://docs.aws.amazon.com/redshift/latest/dg/r_superusers.html">master user</a>, or admin.</p>

<p>If you want to control the permission settings, you’ll need to create an additional database user for Stitch. An added benefit is that Stitch will be easily distinguishable in any logs or audits.</p>

<div class="alert alert-warning" role="alert"><i class="fa fa-warning"></i> <b>Important:</b> While you can create a Redshift user for Stitch at any time, <strong>we recommend doing so before any data is replicated into your data warehouse</strong>. The process for creating a user for us after replication has taken place is considerably lengthier than what’s required for a new connection.</div>

<h3 id="requirements-for-creating-a-redshift-user">Requirements for Creating a Redshift User</h3>
<p><strong>You must be a superuser  to create a Redshift user.</strong> If you’re not a superuser or you’re not sure what this means, please contact someone on your technical team before proceeding.</p>

<h3 id="required-permissions">Required Redshift Permissions for Stitch</h3>

<p>The Stitch database user requires the following to successfully load data into Redshift:</p>

<table width="100%; fixed">
	<tr>
		<td width="40%; fixed">
			<strong>Action</strong>
		</td>
		<td>
			<strong>Reason</strong>
		</td>
	</tr>
	<tr>
		<td>
			<code class="highlighter-rouge">CREATE</code> schemas, tables, and views
		</td>
		<td>
			Stitch requires these permissions to create the necessary database objects to load and store your data.
		</td>
	</tr>
	<tr>
		<td>
			<code class="highlighter-rouge">SELECT</code> from tables in the <code class="highlighter-rouge">pg_catalog</code> and <code class="highlighter-rouge">information_schema</code> schemas
		</td>
		<td>
			Stitch uses the data in the systems tables to verify the existence of integration schemas and tables, and gain information about their structure prior to loading data.<br /><br />
			<strong>Note:</strong> Stitch will only ever <strong>read</strong> data from the systems tables.
		</td>
	</tr>
	<tr>
		<td>
			Ownership of all integration schemas and tables
		</td>
		<td>
			Stitch occasionally needs to run <code class="highlighter-rouge">COMMENT</code> and <code class="highlighter-rouge">ALTER TABLE</code> commands to properly insert data.
		</td>
	</tr>
</table>

<p>While you technically can manually create integration schemas in Redshift and then grant Stitch access to those schemas, we don’t recommend it. We understand that security is a high priority and permissions should be carefully granted, but this approach will likely lead to headaches for you.</p>

<p>If you take this approach, you’ll need to first create the schema in your data warehouse and then grant the Stitch user the appropriate permissions to access it <strong>every time a new integration is added in Stitch</strong>. If this isn’t done, Stitch won’t be able to load data into your data warehouse.</p>

<p>Additionally, if there are any differences between the name of the schema you create in your data warehouse and the schema name you enter in Stitch when setting up an integration, Stitch won’t be able to load data into your data warehouse.</p>

<h3 id="create-the-user">Create the Database User</h3>

<ul id="profileTabs" class="nav nav-tabs">
<li class="active">
<a href="#connection-type" data-toggle="tab">Connection Type</a>
</li>
<li>
<a href="#new-warehouse" data-toggle="tab">NEW Connections</a>
</li>
<li>
<a href="#existing-warehouse" data-toggle="tab">EXISTING Connections</a>
</li>
</ul>
<div class="tab-content">

<div role="tabpanel" class="tab-pane active" id="connection-type">
    <p>Depending on the type of connection this is, the steps for creating a Redshift database user for Stitch will vary a bit:</p>

    <ul>
      <li><strong>If Stitch hasn’t ever replicated data to your Redshift destination</strong>, follow the instructions in the <strong>NEW Connections</strong> tab.</li>
      <li><strong>If Stitch has replicated data to your Redshift destination in the past</strong>, follow the instructions in the <strong>EXISTING Connections</strong> tab.</li>
    </ul>
  </div>

<div role="tabpanel" class="tab-pane" id="new-warehouse">
    <p><strong>Note</strong>: Anything inside square brackets - <code class="highlighter-rouge">[like this]</code> - is something you need to define when running the commands yourself.</p>

    <ol>
      <li>
        <p>If you haven’t already, connect to your Redshift instance using your SQL client.2. After connecting, run this command to create the user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">USER</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">'[password]'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll assign the <code class="highlighter-rouge">CREATE</code> permissions to the user. For <code class="highlighter-rouge">[database_name]</code>, enter the name of the database where all Stitch-replicated data should be loaded. If you launched a cluster using this tutorial, it’s the name of the database when you launched the cluster in Step 2.</p>

        <p><strong>Note</strong>: This must be a pre-existing database.</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ON</span> <span class="k">DATABASE</span><span class="p">[</span><span class="n">database_name</span><span class="p">]</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>If you restricted access to the system tables</strong>, you’ll also need to run the following commands to grant the Stitch user <code class="highlighter-rouge">SELECT</code> permissions:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">information_schema</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>

<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">pg_catalog</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </div>

<div role="tabpanel" class="tab-pane" id="existing-warehouse">
    <p><strong>Note</strong>: Anything inside square brackets - <code class="highlighter-rouge">[like this]</code> - is something you need to define when running the commands yourself.</p>

    <ol>
      <li>
        <p>If you haven’t already, connect to your Redshift instance using your SQL client.2. After connecting, run this command to create the user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">USER</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">'[password]'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll assign the <code class="highlighter-rouge">CREATE</code> permissions to the user. For <code class="highlighter-rouge">[database_name]</code>, enter the name of the database where all Stitch-replicated data should be loaded. If you launched a cluster using this tutorial, it’s the name of the database when you launched the cluster in Step 2.</p>

        <p><strong>Note</strong>: This must be a pre-existing database.</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ON</span> <span class="k">DATABASE</span><span class="p">[</span><span class="n">database_name</span><span class="p">]</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>If you restricted access to the system tables</strong>, you’ll also need to run the following commands to grant the Stitch user <code class="highlighter-rouge">SELECT</code> permissions:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">information_schema</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>

<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">pg_catalog</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>

    <h4 id="transfer-integration-schema--table-ownership">Transfer Integration Schema &amp; Table Ownership</h4>

    <p>When an integration is initially connected to Stitch, a schema specific to that connection is created in your data warehouse. Ownership to those schemas and all the tables contained within them must be granted to the Stitch user for data replication to be successful.</p>

    <ol>
      <li>
        <p>Query the catalog tables using this statement to list all tables and their owners:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> 
<span class="k">FROM</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_tables</span><span class="p">;</span>
</code></pre></div>        </div>

        <p>Take note of any integration tables that aren’t owned by the Stitch user - those are the tables you’ll need to update.</p>
      </li>
      <li>
        <p>Transfer ownership of the integration schema to the Stitch user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">SCHEMA</span> <span class="p">[</span><span class="k">schema_name</span><span class="p">]</span> <span class="k">OWNER</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll transfer ownership of all tables in the integration schema to the Stitch user. There are two ways to accomplish this: table-by-table or running a script.</p>

        <h5 id="table-by-table">Table-by-Table</h5>

        <p>For every table in the schema not owned by the Stitch user - as outlined in step 1 - use this command to transfer ownership:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">table_name</span><span class="p">]</span> <span class="k">OWNER</span> <span class="k">TO</span>  <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>

        <h5 id="script">Script</h5>

        <p>To transfer ownership automatically, run this script from the command line:</p>

        <pre><code class="language-psql">for table in `psql -qAt --host [your.redshift.amazonaws.com] --port [port] --user [admin_user] -c "select tablename from pg_tables where schemaname = '[schema_name]';" [database_name]` ; do psql -qAt --host [your.redshift.amazonaws.com] --port [port] --user [admin_user] -c "alter table \"[schema_name]\".\"$table\" owner to [stitch_username];" [database_name] ; done
</code></pre>
      </li>
    </ol>

    <p><strong>Note:</strong> If you need to transfer ownership of more than one schema and its tables, you’ll need to repeat steps 2 and 3 for every integration schema.</p>
  </div>

</div>


    

    

<hr>

    
        <h2 id="connect-stitch">
            Step 6: Connect Stitch
        </h2>

    
    
    <p>To complete the setup, you need to enter your Redshift connection details into the Destination Settings page in Stitch.</p>


    
        

        
            

            <h3 id="locate-connection-details-aws">
                Step 6.1: Locate the Redshift Connection Details
            </h3>

            
<ol>
  <li>On the <strong>Redshift Dashboard page</strong> in the AWS Console, click the <strong>Clusters</strong> option in the left nav bar.</li>
  <li>
    <p>In the Clusters page, locate and click on the cluster you created. This will display the <strong>Cluster Details</strong> page.</p>
  </li>
  <li>Locate the following fields:
    <ul>
      <li><strong>Endpoint</strong></li>
      <li><strong>Database Name:</strong> This is the name of the database you want to connect to Stitch. <strong>This must be a pre-existing database - Stitch won’t create one for you.</strong> It could be:
        <ul>
          <li>The name of the database you used to launch the instance.</li>
          <li>The name of another database within Redshift.</li>
        </ul>
      </li>
      <li><strong>Master Username:</strong> You’ll only need this if you’re using the master user’s credentials to connect to Stitch.</li>
      <li><strong>Port:</strong> This is the port used by the database.</li>
    </ul>
  </li>
</ol>

<p>These fields are highlighted in the image below:</p>

<p><img src="/docs/images/destinations/redshift-db-details.png" alt="Redshift cluster details" /></p>



            
                
                    <h3 id="enter-connection-details-into-stitch">
                        Step 6.2: Enter Connection Details into Stitch
                    </h3>
                
            
        
    

    
    

    
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<!-- THe fields that display in the Destination Settings page 
  are dependent on the type of destination selected. 

The fields for each destination - including the field name as it displays 
in the UI and instructions for what goes in each field - are in the data file
below.  -->

<!-- Assigns a variable to the SSH fields -->
<ol>
  <li>If you aren’t logged into your Stitch account, log in now.</li>
  <li>Click the <strong>Destination tab</strong>.</li>
  <li>Click the <strong>Redshift</strong> icon.</li>
  <li>
    <p>Fill in the fields as follows:</p>

    <ul>
      <li>
        <p><strong>Host (Endpoint)</strong>: Paste the <strong>Endpoint</strong> address from the Redshift Details page in AWS into this field.</p>

        <p>Don’t include the port number, which is appended to the end of the endpoint string - this will cause errors. For example: if you used the default port, you’d remove the following from the address: <code class="highlighter-rouge">:5439</code></p>
      </li>
      <li>
        <p><strong>Port</strong>: Enter the port used by the Redshift instance. The default is <code class="highlighter-rouge">5439</code>.</p>
      </li>
      <li>
        <p><strong>Username</strong>: Enter the Stitch Redshift user’s username.</p>
      </li>
      <li>
        <p><strong>Password</strong>: Enter the password associated with the Stitch Redshift user.</p>
      </li>
      <li>
        <p><strong>Database</strong>: Enter the name of the Redshift database that you created for Stitch.</p>
      </li>
    </ul>
  </li>
</ol>

<!-- Include SSH instructions only if the include requests them -->

<!-- The content below will display for every type of destination -->
<p>When finished, click <strong>Update Redshift Settings</strong>.</p>

<p>Stitch will perform a connection test to the Redshift database; if successful, a <em>Success!</em> mesage will display at the top of the screen. <strong>Note that this test may take a few minutes to complete</strong>.</p>


    

<hr>








<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<h2 id="troubleshooting-connection-errors">Troubleshooting Connection Errors</h2>

<p>If you receive an error message, we recommend trying <a href="/docs/troubleshooting/destinations/destination-connection-errors">these troubleshooting steps</a> for common destination connection problems before reaching out to support.</p>

<p>We’ve found that the majority of the time, these resources can resolve most issues.</p>

<hr />

<h2 id="learning-about-stitch--redshift">Learning About Stitch &amp; Redshift</h2>

<p>Now that your Redshift data warehouse is up and running, we recommend learning about how Stitch will load your data into it.</p>

<ul>
  <li>
    <p><strong><a href="/docs/destinations/redshift/">Redshift Destination Overview</a></strong>: This overview will give you the high-level basics for working with your Redshift data warehouse.</p>
  </li>
  <li>
    <p><strong><a href="/docs/data-structure/loading-stitch-data-into-destinations">Destination Data Loading Guide</a></strong>: This article covers many of the common scenarios Stitch will encounter when loading data into your Redshift destination and the expected behavior for each scenario.</p>
  </li>
</ul>


<!-- GitHub Feedback snippet -->

    
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->






<table width="100%" class="related-articles">
    <tbody>
        <tr>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Related</span>
            </td>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Troubleshooting</span>
            </td>
        </tr>
        <tr>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->

<ul>
	<li>
		<a href="/docs/destinations/choosing-a-stitch-destination">Choosing a Destination</a>
	</li>
	<li>
		<a href="/docs/destinations/destination-integration-compatibility">Destination & Integration Compatibility</a>
	</li>
	<li>
		<a href="/docs/data-structure/loading-stitch-data-into-destinations">Loading Data into Your Destination</a>
	</li>
	<li>
		<a href="/docs/destinations/switching-destinations">Switching Destinations</a>
	</li>
	
	
		<li>
			<a href="/docs/data-structure/nested-data-structures-row-count-impact">Nested Data Structures & Row Count Impact</a>
		</li>
	
</ul>




<!-- INTEGRATIONS -->

<!-- All integrations -->


<!-- Webhook Integrations -->



<!-- Database Integrations -->




<!-- SaaS integrations -->




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->

<!-- Captures the integration's name -->

<ul>
	<!-- Loops over troubleshooting collection -->
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-data-loading-errors">Redshift Data Loading Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-dependent-view-errors">Redshift View Dependency Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-vacuum-errors">Redshift VACUUM Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<li>
		<a href="/docs/troubleshooting/destinations/destination-connection-errors">Destination Connection Errors</a>
	</li>
</ul>




<!-- INTEGRATIONS -->

<!-- Database integration pages only -->



<!-- SaaS integration pages only -->



<!-- All integration pages -->




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        </tr>
    </tbody>
</table>


    <hr>

<span class="h2">Questions? Feedback?</span>

<p>Did this article help? If you have questions or feedback, feel free to <a target="_blank" href="https://github.com/stitchdata/docs/blob/master/_destinations/redshift/connecting-redshift.md">submit a pull request</a> with your suggestions, <a href="https://github.com/stitchdata/docs/issues" target="new">open an issue on GitHub</a>, or <a href="mailto: help@stitchdata.com">reach out to us</a>.</p>


<!-- Page tags -->
    

    
        <div class="tags">
            <b>Tags: </b>
            
            
                
                    <a href="/docs/tag_redshift_destination" class="btn btn-default navbar-btn cursorNorm" role="button">redshift destination</a>
                
            
        </div>
    

</div>

<footer>
	&copy;2017 Stitch. All rights reserved. <br />
	 Site last generated: Dec 12, 2017 <br />
	<!--<p><img src="/docs/images/company_logo.png" alt="Company logo"/></p>-->
</footer>



        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Algolia search -->
<script type="text/javascript">
docsearch({
  apiKey: '436dcd76593779a2261b623269cf5cfd',
  indexName: 'stitchdata',
  inputSelector: '#search-input',
  debug: false, // Set debug to true if you want to inspect the dropdown
  algoliaOptions: {
    hitsPerPage: 10 // Controls how many results display in the dropdown
  }
});
</script>

</body>
</html>