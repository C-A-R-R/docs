<!DOCTYPE html>
<head>
    <!-- Google Tag Manager  -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PXBN5GK');</script>
<!-- End Google Tag Manager -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="If your Redshift cluster is in a private subnet, you can use an SSH tunnel to connect Stitch to your data warehouse.">
<meta name="keywords" content="redshift_destination,  redshift, amazon redshift, redshift data warehouse, etl to redshift, redshift etl, create redshift user, stitch redshift user, stitch user, redshift ssh, redshift ssh tunnel">
<title>Connecting an Amazon Redshift Data Warehouse to Stitch via SSH Tunnel | Stitch Documentation</title>

<meta property="og:title" content="Connecting an Amazon Redshift Data Warehouse to Stitch via SSH Tunnel | Stitch Documentation" />
<meta property="og:description" content="If your Redshift cluster is in a private subnet, you can use an SSH tunnel to connect Stitch to your data warehouse." />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs" />
<meta property="og:image" content="https://www.stitchdata.com/images/og-site-icon.png" />
<meta property="og:site_name" content="Stitch Docs" />

<meta name="twitter:creator" content="@stitch_data">
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@stitch_data" />
<meta name="twitter:image" content="https://www.stitchdata.com/images/og-site-icon.png" />

<meta name=viewport content="width=1100, user-scalable=1">

<!-- STYLESHEETS -->
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/docs/css/bootstrap.min.css">
<link rel="stylesheet" href="/docs/css/modern-business.css">
<link rel="stylesheet" href="/docs/css/lavish-bootstrap.css">
<link rel="stylesheet" href="/docs/css/customstyles.css">
<link rel="stylesheet" href="/docs/css/theme-stitch.css">
<link rel="stylesheet" href="/docs/css/docsearch.min.css" />
<link rel="stylesheet" href="/docs/stylesheets/screen.css">

<!-- JQUERY -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/docs/js/jquery.navgoco.min.js"></script>

<!-- FAVICONS  -->
<link href="/docs/images/apple-icon-57x57.png" rel="apple-touch-icon" type="image/png" />
<link href="/docs/images/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" type="image/png" />
<link href="/docs/images/apple-icon-114x114.png" rel="apple-touch-icon-precomposed" sizes="114x114" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="shortcut icon" type="image/png" />
<link href="/docs/images/favicon-32x32.png" rel="icon" type="image/png" />

<link rel="stylesheet" href="/docs/css/syntax.css">

<!-- TYPEKIT -->
<script src="https://use.typekit.net/hjq2wqe.js"></script>
<script>try{Typekit.load({ async: true });}catch(e){}</script>

<style type="text/css">
	.js .fouc {display: none !important;}
</style>

<script type="text/javascript">
	document.documentElement.className = 'js';
</script>

<!-- Begin Inspectlet Embed Code -->
<script type="text/javascript" id="inspectletjs">
window.__insp = window.__insp || [];
__insp.push(['wid', 479657659]);
(function() {
function ldinsp(){if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 500); document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
})();
</script>
<!-- End Inspectlet Embed Code -->

    // <script>
    //     $(document).ready(function() {
    //         // Initialize navgoco with default options
    //         $("#mysidebar").navgoco({
    //             caretHtml: '',
    //             accordion: true,
    //             openClass: 'active', // open
    //             save: false, // leave false or nav highlighting doesn't work right
    //             cookie: {
    //                 name: 'navgoco',
    //                 expires: false,
    //                 path: '/'
    //             },
    //             slide: {
    //                 duration: 400,
    //                 easing: 'swing'
    //             }
    //         });

    //         $("#collapseAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', false);
    //         });

    //         $("#expandAll").click(function(e) {
    //             e.preventDefault();
    //             $("#mysidebar").navgoco('toggle', true);
    //         });

    //     });

    // </script>
    
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PXBN5GK"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Navigation -->
<nav class="stitch-docs-navbar">
    <div class="nav-left">
        <svg version="1.1" id="stitch_logomark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 556.9 556.9" style="enable-background:new 0 0 556.9 556.9;" xml:space="preserve" height="38" width="38">
        <style type="text/css">
        .st0{fill:#FFCC00;}
        </style>
        <path class="st0" d="M556.9,219.9V0H0v297.9h382.8v39H0v0v219.9h556.9V258.9H174.1v-39H556.9z M278.3,499.7
        c-15.1,0-27.4-12.3-27.4-27.4c0-15.1,12.3-27.4,27.4-27.4c15.1,0,27.4,12.3,27.4,27.4C305.7,487.5,293.5,499.7,278.3,499.7z
        M401.8,414.9h-247l11.8-39h224L401.8,414.9z M278.3,57.2c15.1,0,27.4,12.3,27.4,27.4c0,15.1-12.3,27.4-27.4,27.4
        c-15.1,0-27.4-12.3-27.4-27.4C250.9,69.4,263.2,57.2,278.3,57.2z M166.7,180.9l-11.8-39h247l-11.1,39H166.7z"></path>
        </svg>
        <a class="navbar-brand" href="/docs/">
            <span class="projectTitle"> Stitch Docs</span>
        </a>
    </div>
    <div class="nav-right">
        <ul class="stitch-nav">
            <!-- entries without drop-downs appear here -->
            
                
                    
                        <li>
                            <a href="https://www.stitchdata.com" target="_blank">stitchdata.com</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://github.com/stitchdata/docs#stitch-documentation" target="_blank"><i class="fa fa-github fa-1" aria-hidden="true"></i> Contribute
</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="https://www.stitchdata.com/changelog" target="_blank">Changelog</a>
                        </li>
                    
                
                    
                        <li>
                            <a href="/docs/announcements">Announcements</a>
                        </li>
                    
                
            
            <li>
                <!--start search-->
                <div id="search-demo-container">
                    <input type="text" id="search-input" placeholder="What can we help you find?">
                    <ul id="results-container"></ul>
                </div>
            </li>
        </ul>
    </div>
</nav>


<!-- Page Content -->
<div id="main">
    <div class="sidebar-column">
        
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->



<div class="menu-list">

<ul id="mysidebar" class="nav">
        <!-- Stitch status widget -->
        <a class="status-page" href="http://status.stitchdata.com" target="_blank">
            <span class="color-dot"></span>
            <span class="color-description"></span>
        </a>

        
            <!-- Top-level items -->
            
                
                <li>
                    <a href="/docs/getting-started">Getting Started</a>
                
                
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#account--security" aria-expanded="false" aria-controls="account--security">
                        Account & Security 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="account--security">
                        
                            

                                <li>
                                    <a href="/docs/account-security/">Your Stitch Account</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs">Account Settings</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/managing-team-members">Invite Your Team</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/billing-faq">Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/understanding-stitch-billing-replicated-rows">Understand Your Usage</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/stitch-security">Security</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/account-security/cancelling-your-stitch-account">Cancel Your Account</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#destinations" aria-expanded="false" aria-controls="destinations">
                        Destinations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="destinations">
                        
                            

                                <li>
                                    <a href="/docs/destinations">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/choosing-a-stitch-destination">Choosing a Destination</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/redshift/">Amazon Redshift</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/bigquery/">Google BigQuery</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/panoply/">Panoply.io</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/postgresql/">PostgreSQL</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/snowflake/">Snowflake</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/destinations/switching-destinations">Change Destinations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#saas-integrations" aria-expanded="false" aria-controls="saas-integrations">
                        SaaS Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="saas-integrations">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#certified-integrations" aria-expanded="false" aria-controls="certified-integrations">
                                        Certified Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="certified-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-certified-integrations">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/adroll">AdRoll</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/desk">Desk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/facebook-ads">Facebook Ads</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-adwords">Google Adwords</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-analytics">Google Analytics</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/google-ecommerce">Google ECommerce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/hubspot/">HubSpot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/import-api/">Import API</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/intercom">Intercom</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/jira">JIRA</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/marketo">Marketo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/mixpanel">Mixpanel</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/netsuite">NetSuite</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/pardot">Pardot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/quickbooks">QuickBooks</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/recurly">Recurly</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/salesforce/">Salesforce</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shopify">Shopify</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/stripe">Stripe</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/trello">Trello</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/xero">Xero</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk">Zendesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zuora">Zuora</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#community-integrations" aria-expanded="false" aria-controls="community-integrations">
                                        Community Integrations 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="community-integrations">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/saas#stitch-community-integrations
">Overview</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                            

                                            

                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/autopilot">Autopilot</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/braintree">Braintree</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/freshdesk">Freshdesk</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/gitlab">GitLab</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/harvest">Harvest</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/outbrain">Outbrain</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/referral-saasquatch">Referral SaaSquatch</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/shippo">Shippo</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/square">Square</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/taboola">Taboola</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/urban-airship">Urban Airship</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/wootric">Wootric</a>
                                                </li>
                                            
                                                <li>
                                                    <a href="/docs/integrations/saas/zendesk-chat">Zendesk Chat</a>
                                                </li>
                                            
                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/saas">All SaaS Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations">All Integrations</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#database-integrations" aria-expanded="false" aria-controls="database-integrations">
                        Database Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="database-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/databases">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-aurora">Amazon Aurora</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/amazon-rds">Amazon RDS</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-mysql">Google CloudSQL MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/google-cloudsql-postgresql">Google CloudSQL PostgreSQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/heroku">Heroku</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/magento">Magento</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mariadb">MariaDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-sql-server">Microsoft SQL Server</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mongodb">MongoDB</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/microsoft-azure">Microsoft Azure</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/mysql">MySQL</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/databases/postgresql">PostgreSQL</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#webhook-integrations" aria-expanded="false" aria-controls="webhook-integrations">
                        Webhook Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="webhook-integrations">
                        
                            

                                <li>
                                    <a href="/docs/integrations/webhooks">Overview</a>
                                </li>

                                
                                    

                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/aftership">AfterShip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/branch">Branch</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/contentful">Contentful</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/customerio">Customer.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/delighted">Delighted</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/drip">Drip</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/formkeep">FormKeep</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/iterable">Iterable</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mailjet">Mailjet</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/mandrill">Mandrill</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/particleio">Particle.io</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/segment">Segment</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendgrid">SendGrid</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sendwithus">SendWithUs</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/sparkpost">SparkPost</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/stitch-incoming-webhooks">Incoming Webhooks</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/vero">Vero</a>
                                            </li>
                                        
                                    
                                        
                                            <li>
                                                <a href="/docs/integrations/webhooks/zapier">Zapier</a>
                                            </li>
                                        
                                    

                                    <li>
                                        <a href="/docs/integrations">All Integrations</a>
                                    </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#import-api" aria-expanded="false" aria-controls="import-api">
                        Import API 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="import-api">
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api">Overview</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#auth">Authentication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/integrations/import-api#return-codes">Return Codes</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#methods" aria-expanded="false" aria-controls="methods">
                                        Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#status-method">Status</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#validate-method">Validate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/integrations/import-api#upsert-method">Upsert</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#extracting-data" aria-expanded="false" aria-controls="extracting-data">
                        Extracting Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="extracting-data">
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replicate-data" aria-expanded="false" aria-controls="replicate-data">
                                        Replicate Data 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replicate-data">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-data">Select Data to Replicate</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-new-additional-columns">Replicate New & Additional Columns</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replicating-database-views">Database Views</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/syncing-historical-saas-data-resetting-replication-keys">Historical SaaS Data</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-keys" aria-expanded="false" aria-controls="replication-keys">
                                        Replication Keys 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-keys">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys">Database Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs">MongoDB Replication Keys</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-keys#resetting-replication-keys">Reset Replication Keys</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#replication-methods" aria-expanded="false" aria-controls="replication-methods">
                                        Replication Methods 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="replication-methods">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods">Overview</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#incremental-replication">Incremental</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#append-only-incremental-replication">Append-Only</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/replication-methods#full-table-replication">Full Table</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-frequency">Replication Frequency</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/supported-data-types">Supported Data Types</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/replication/replication-methods#deleted-records--incremental-replication">Deletions</a>
                                </li>

                                

                            
                        
                            
                                <li class="subfolders">

                                    <a data-toggle="collapse" href="#monitoring-progress" aria-expanded="false" aria-controls="monitoring-progress">
                                        Monitoring Progress 
                                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                                    </a>

                                    <ul class="collapse" id="monitoring-progress">
                                    <!-- Third-level items -->
                                    
                                        <li>
                                            <a href="/docs/replication/monitoring-replication-progress">Progress Summary</a>
                                         </li>
                                    
                                        <li>
                                            <a href="/docs/replication/integration-extraction-logs">Extraction Logs</a>
                                         </li>
                                    

                                    <!-- Currently only applies to SaaS Integrations. 
                                        This may change in the future. -->

                                        

                                    </ul>
                                </li>

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#loading-data" aria-expanded="false" aria-controls="loading-data">
                        Loading Data 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="loading-data">
                        
                            

                                <li>
                                    <a href="/docs/data-structure/integration-schemas">Integration Schemas</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/loading-stitch-data-into-destinations">Loading Data into Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/nested-data-structures-row-count-impact">Nested Data & Row Counts</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/table-structural-changes">Table Schema Changes</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/querying-append-only-tables">Append-Only Tables</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/data-structure/identifying-rejected-records">Rejected Records</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#analysis-integrations" aria-expanded="false" aria-controls="analysis-integrations">
                        Analysis Integrations 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="analysis-integrations">
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#analytics-integrations">Analytics</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#sql-editors">SQL Edtiors</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/analysis-integrations#data-science">Data Science</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
                
                <li>
                    <a data-toggle="collapse" href="#troubleshooting" aria-expanded="false" aria-controls="troubleshooting">
                        Troubleshooting 
                        <i class="fa fa-caret-down fa-1 pull-right" aria-hidden="true"></i>
                    </a>
                    
                
                
                
                    <ul class="collapse" id="troubleshooting">
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/account">Account & Billing</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/destinations">Destinations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/integrations">Integrations</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/replication">Replication</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/data-discrepancies">Data Discrepancies</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/error-notifications">Error Notifications</a>
                                </li>

                                

                            
                        
                            

                                <li>
                                    <a href="/docs/troubleshooting/">All Troubleshooting</a>
                                </li>

                                

                            
                         
                    </ul>
                
                </li>
            
        
    </ul>
</div>
    </div>
    <div class="content-column">
        
        <div class="article">
            
        <div class="breadbox">
            <div class="breadcrumb-container">
                <div id="breadcrumb-menu" class="menu-left">
                    <!-- Credit to JoostS for this code: https://stackoverflow.com/questions/9612235/what-are-some-good-ways-to-implement-breadcrumbs-on-a-jekyll-site -->




<a href="/docs">DOCS</a>

  
    > <a href="/docs/destinations/">DESTINATIONS</a>
  

  
    > <a href="/docs/destinations/redshift/">REDSHIFT</a>
  

  
    > <strong>CONNECTING AN AMAZON REDSHIFT DATA WAREHOUSE TO STITCH VIA SSH TUNNEL</strong>
  


                </div>

                
            </div>
        </div>
        
            <div class="post-header">
    <h1 class="post-title-main">Connecting an Amazon Redshift Data Warehouse to Stitch via SSH Tunnel</h1>
</div>

<div class="post-content">
<!-- Controls display of page summary -->
   

<!-- Table of Contents -->
    
        
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>
    

  
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->





<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 
This tutorial describes how to spin up a Redshift cluster and connect it to Stitch via an <strong>SSH tunnel</strong>.<br /><br />

Looking for help setting up a <strong>direct connection?</strong> Refer to the <a href="/docs/destinations/redshift/connecting-redshift-data-warehouse-to-stitch">Connecting a Redshift Data Warehouse</a> guide.
</div>

<p><a href="/docs/destinations/redshift/connecting-redshift-data-warehouse-to-stitch">In this tutorial</a>, we covered how to spin up a Redshift cluster with a public IP address to use with Stitch. If your Redshift cluster is in a private subnet, however, you can use an SSH tunnel to connect Stitch to your data warehouse.</p>

<p>The method you’ll use to accomplish this involves launching an EC2 instance into the VPC associated with the cluster. This EC2 instance will have a public IP address and act as a bastion, allowing you to forward traffic through an encrypted tunnel to your private Redshift cluster.</p>



<!-- If there are any requirements for setting up the destination, display them here. -->

    <h2 id="setup-requirements">Redshift Setup Requirements</h2>
        <p>To set up Redshift in Stitch, you need:</p>
        <ul>
        
            <li>
                <p><strong>An Amazon Web Services (AWS) account.</strong> Signing up is free - <a href="https://aws.amazon.com" target="new">click here</a> or go to <code class="highlighter-rouge">https://aws.amazon.com</code> to create an account if you don’t have one already.</p>

            </li>
        
            <li>
                <p><strong>Some technical know-how and familiarity with AWS.</strong></p>

            </li>
        
            <li>
                <p><strong>Optional: Create a non-default VPC</strong>. A VPC, or Virtual Private Cloud, is a scalable virtual network that resembles a traditional network used in a data center.</p>

<p>All AWS accounts created after December 3, 2014, <a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/default-vpc.html">include a default VPC in each AWS region</a>. This means that you can use the default VPC to launch your Redshift cluster instead of spinning up your own.</p>

<p>Steps for creating a VPC are outside the scope of this tutorial, so the examples in this guide will use a default VPC.</p>

<p>This is optional, but if you want to use your own VPC, you need to create it before continuing. <a href="http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html">Amazon’s Getting Started with VPC guide</a> can walk you through how to do this.</p>

            </li>
        
        </ul>

    <!-- If there's any additional info about the requirements, display them here. -->
    
        <p>Additionally, note the following before you get started:</p>

<ul>
  <li>
    <p>This tutorial assumes you’ll be using a <strong>Linux-based</strong> server to launch your instance and create the SSH tunnel.</p>
  </li>
  <li>
    <p><strong>An SSH tunnel isn’t necessarily more secure than a direct connection</strong>. An SSH tunnel is only as secure as the monitoring and hardening you perform on the SSH server hosting the tunnel.</p>
  </li>
</ul>

<p>If you have questions or concerns about Stitch security, please refer to the <a href="/docs/account-security/stitch-security">Security FAQ</a>.</p>

    


<hr>    

<!-- Markdown gets cranky about spacing, so keep everything flush left. Otherwise the formatting won't render. -->

<!-- CONNECTION INSTRUCTION STEPS -->

    
        <h2 id="create-cluster-login-credentials">
            Step 1: Create Cluster Login Credentials
        </h2>

    
    
    <p>To get started, sign into your AWS account and navigate to the <strong>Redshift Dashboard page</strong>. As of December 13, 2016, you can get there by clicking <strong>Services</strong> (top left corner), then clicking <strong>Redshift</strong> in the <strong>Databases</strong> section.</p>

<ol>
  <li>On the Redshift Dashboard page, click the <strong>Lauch Cluster</strong> button.</li>
  <li>The <strong>Cluster Details</strong> page will display.</li>
  <li>Fill in the cluster details:
    <ul>
      <li><strong>Cluster Identifier:</strong> This is the unique key that defines a cluster.</li>
      <li><strong>Database Name:</strong> This is the initial database for the cluster.</li>
      <li><strong>Port:</strong> A port is an opening in a firewall that allows in and outbound traffic. By default, Redshift uses port <code class="highlighter-rouge">5439</code>.</li>
    </ul>
  </li>
  <li>Next, you’ll create the <a href="http://docs.aws.amazon.com/redshift/latest/dg/t_adding_redshift_user_cmd.html">master login credentials</a>. You can use these credentials to connect Stitch to your Redshift cluster if you like, or if you want to be more selective with the permissions, you can create an additional user for Stitch later on in the tutorial.
    <ul>
      <li><strong>Master User Name:</strong> This is the name of the master user for the cluster.</li>
      <li><strong>Master User Password:</strong> This is the password associated with the cluster’s master user.</li>
    </ul>
  </li>
  <li>Re-enter the master user’s password to confirm it.</li>
  <li>Click <strong>Continue.</strong></li>
</ol>


    

    

<hr>

    
        <h2 id="select-nodes--cluster-types">
            Step 2: Select Nodes & Cluster Types
        </h2>

    
    
    <p>On the <strong>Node Configuration page</strong>, you’ll select the node type, define the cluster type, and decide how many nodes to use.</p>

<div class="bs-callout bs-callout-info">
A <strong>node</strong> is a single computer that participates in a cluster. A Redshift cluster can have one to many nodes; the more nodes, the more data it can store and the faster it can process queries. Amazon currently offers <a href="http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#rs-about-clusters-and-nodes">four different types of nodes</a>, each of which has its own CPU, RAM, storage capacity, and storage drive type. In addition, each node also has its own pricing plan.<br /><br />

The type and number of node(s) you choose when creating your cluster is dependent on your needs and dataset. We do, however, recommend you set up a multi-node configuration to provide data redundancy. For some guidance on choosing the number of nodes, <a href="http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#how-many-nodes" target="new">click here</a> to read the ‘Determining the Number of Nodes’ section of the Amazon Redshift guide.
</div>

<ol>
  <li>Select the <strong>Node Type</strong> you want to use.</li>
  <li>Select the <strong>Cluster Type</strong>.</li>
  <li>Enter the number of <strong>Compute Nodes</strong> you want to use.</li>
  <li>Click <strong>Continue</strong>.</li>
</ol>


    

    

<hr>

    
        <h2 id="configure-launch-cluster">
            Step 3: Configure & Launch the Redshift Cluster
        </h2>

    
    
    <p>Next, you’ll define the additional configuration settings for the Redshift cluster. For our purposes, we’re going to leave most of the settings as-is and focus on the <strong>Configure Networking Options</strong> and <strong>Security Groups</strong> sections.</p>


    
        

        
            

            <h3 id="configure-cluster-networking-options">
                Step 3.1: Configure Networking Options
            </h3>

            <p>In the <strong>Configure Networking Options</strong> section, define these fields:</p>

<ul>
  <li>
    <p><strong>Choose a VPC:</strong> From the drop-down, select the VPC you want to launch the cluster in. This will also cause the other required fields to display.</p>
  </li>
  <li>
    <p><strong>Cluster Subnet Group:</strong> Select a Subnet Group to associate with the cluster. This can be public or private.</p>

    <p>The default VPC included with all new AWS accounts also includes a default public subnet, which is what we’re using here.</p>
  </li>
  <li>
    <p><strong>Publicly Accessible:</strong> Set this to <strong>No.</strong></p>
  </li>
</ul>



            
        
            

            <h3 id="define-cluster-security-group">
                Step 3.2: Define a Security Group
            </h3>

            <p>The last step to configuring your cluster is to define the Security Group associated with the cluster.</p>

<p>In the <strong>VPC Security Groups</strong> section, select the Security Group you want to associate with the cluster.</p>

<p>We’re using the default Security Group that’s included with all new AWS accounts, but you can choose any one you like. You’ll edit the access rules for the Security Group in the next section, which will allow the group to access the cluster.</p>

<p>Here’s what the configuration looks like for our sample cluster:</p>

<p><img src="/docs/images/destinations/redshift-ssh-additional-configuration.png" alt="Redshift Additional Configuration page." /></p>

<p>When finished, click the <strong>Continue</strong> button.</p>


            
        
            

            <h3 id="review-launch-cluster">
                Step 3.3: Review & Launch the Redshift Cluster
            </h3>

            <p>A review page containing all the details about your cluster (except for the master password) will display after you click <strong>Continue</strong> on the Additional Configuration page.</p>

<p>Additionally, the pricing info for the cluster will display at the bottom of the page.</p>

<p>After you’ve reviewed and confirmed the settings, click <strong>Launch Cluster</strong> to launch the cluster. <strong>Note that this process can take a few minutes</strong> - the status in the Cluster Dashboard page will change to ‘available’ when the process completes.</p>


            
        
    

    

<hr>

    
        <h2 id="create-bastion-in-vpc">
            Step 4: Create a Bastion in Your VPC
        </h2>

    
    
    <p>Next, you’ll launch an EC2 instance to serve as the SSH bastion. This instance must reside in the same VPC as the Redshift cluster.</p>


    
        

        
            

            <h3 id="configure-ec2-instance">
                Step 4.1: Configure the EC2 Instance
            </h3>

            <p>The first part of creating a bastion in your VPC is configuring the instance.</p>

<ol>
  <li>Navigate to the VPC Management Console in AWS. If you use the <strong>Services</strong> menu (top left corner), click the <strong>VPC</strong> option under the <strong>Networking &amp; Content Delivery</strong> section.</li>
  <li>On the VPC Dashboard, click the <strong>Launch EC2 Instances</strong> button.</li>
  <li>
    <p>Next, you’ll be asked to select the Amazon Machine Image, or AMI, that will be used to launch the instance.</p>

    <p>We’ll be using a Linux-based AMI (like Ubuntu) for this tutorial:</p>

    <p><img src="/docs/images/destinations/redshift-ssh-ubuntu-ami.png" alt="Ubuntu Amazon Machine Image option in AWS" /></p>

    <p>Click the <strong>Select</strong> button next to the AMI you want to use.</p>
  </li>
  <li>
    <p>On the next page, you’ll select the instance type. Generally, a small instance will work just fine as a bastion. For example: <code class="highlighter-rouge">t2.medium</code>. You can find more info about instance types on <a href="https://aws.amazon.com/ec2/instance-types/">Amazon’s website</a>.</p>

    <p>After you select the instance type, click the <strong>Configure Instance Details</strong> button in the lower right corner of the page to continue.</p>
  </li>
  <li>On the Configure Instance Details page, fill in the following fields:
    <ul>
      <li><strong>Network</strong> - Select the same VPC that you launched your Redshift cluster in. This was what you selected for the <strong>Choose a VPC</strong> field in <a href="#configure-cluster-networking-options">Step 3</a>.</li>
      <li>
        <p><strong>Subnet</strong> - Select the subnet you want to associate with the EC2 instance. We recommend using a <strong>public</strong> subnet - that is, a subnet with an Internet Gateway - as this will automatically assign a public IP address to machines in the subnet.</p>

        <p>If you’re not sure what subnet to use, simply leave this as the default.</p>
      </li>
      <li><strong>Auto-assign public IP</strong> - Select <strong>Enable</strong> from the drop-down. This should be enabled to ensure your machine has a public IP address.</li>
    </ul>

    <p>Here’s a look at our setup:</p>

    <p><img src="/docs/images/destinations/redshift-ssh-instance-details.png" alt="Configuring the EC2 Instance Details" /></p>
  </li>
  <li>Click the <strong>Next: Add Storage</strong> button in the lower right corner of the page to continue.</li>
  <li>If you’re only using the machine as a bastion (which is what we’re doing in this tutorial), adding storage and tags are unnecessary. Skip over these pages until you reach the <strong>Configure Security Group</strong> page.</li>
</ol>


            
        
            

            <h3 id="ec2-instance-security-group">
                Step 4.2: Configure the EC2 Instance's Security Group
            </h3>

            <p>The second part of creating a bastion in your VPC is configuring the security group. During this step, you’ll add the IP addresses that are allowed to access the bastion to the security group.</p>

<p>You can create a <strong>new</strong> Security Group or update an existing one. For this tutorial, we’ll create a new group.</p>

<ol>
  <li>Select the <strong>Create a new security group</strong> option.</li>
  <li>In the <strong>Security group name</strong> field, enter “Stitch Bastion”.</li>
  <li>In the table below the <strong>Description</strong> field, you’ll add Stitch’s IP addresses to the security group:
    <ul>
      <li>
        <p><strong>Type</strong>: If the default SSH port for your server is 22, set this to <strong>SSH</strong>.</p>

        <p>If it’s something else, set this to <strong>Custom TCP Rule</strong>.</p>
      </li>
      <li><strong>Protocol</strong>: This will default to <strong>TCP</strong> - leave it as-is.</li>
      <li>
        <p><strong>Port Range</strong>: This is the number of the SSH port associated with the bastion. <strong>If you selected SSH as the Type</strong>, this will default to <code class="highlighter-rouge">22</code>.</p>

        <p><strong>If you selected Custom TCP Rule</strong>, enter the number of the SSH port in this field.</p>
      </li>
      <li>
        <p><strong>Source</strong>: This should default to <strong>Custom</strong>. In the field next to the Source drop-down menu, paste one of the following IP addresses:</p>

        <ul>
          <li></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Click the <strong>Add Rule</strong> button to add another rule.</li>
  <li>
    <p>Repeat steps 3 and 4 until all of Stitch’s IP addresses have been added to the Security Group.</p>

    <p>Here’s what the Security Group rules should look like:</p>

    <p><img src="/docs/images/destinations/redshift-ssh-ec2-security-group.png" alt="Configuring the EC2 Instance Security Group" /></p>
  </li>
  <li>When finished, click the <strong>Review and Launch</strong> button in the lower right corner of the page.</li>
</ol>


            
        
            

            <h3 id="review-launch-ec2-instance">
                Step 4.3: Review & Launch the EC2 Instance
            </h3>

            <p>The last step is to review the settings for the EC2 instance and launch it.</p>

<p>Review the instance’s settings, paying particular attention to the fields highlighted in the image below:</p>

<p><img src="/docs/images/destinations/redshift-ssh-ec2-review.png" alt="Reviewing the EC2 Instance Details" /></p>

<ul>
  <li>The <strong>Security Groups</strong> section should list either a new Security Group for Stitch OR an existing group that contains group rules for Stitch’s IP addresses. If it doesn’t, <a href="#ec2-instance-security-group">refer to the Configure the EC2 Instance’s Security Group</a> for instructions.</li>
  <li>In the <strong>Instance Details</strong> section:
    <ul>
      <li><strong>Network</strong>: This field should contain the ID of the same VPC that you launched the Redshift cluster in <a href="#step-3-configure--launch-the-cluster">Step 3 of this tutorial</a>.</li>
      <li><strong>Assign Public IP &amp; Assign IPv6 IP:</strong> We strongly recommend using a <a href="#configure-ec2-instance">public subnet with the instance</a> and auto-assigning a public IP address. This will ensure that Stitch can access the instance.</li>
    </ul>
  </li>
</ul>

<p>After you’re reviewed the instance’s settings, click the <strong>Launch</strong> button in the lower right corner to launch the instance.</p>

<p>Note that it may take a few minutes for the instance creation process to complete. The status in the VPC Dashboard page will change to ‘available’ when the instance is ready.</p>


            
        
    

    

<hr>

    
        <h2 id="enable-bastion-access">
            Step 5: Enable the Bastion to Access the Redshift Cluster
        </h2>

    
    
    <p>After the EC2 instance has finished initializing, you can move onto configuring the access rules for Redshift cluster. In this section, you’ll create a VPC Security Group that will forward traffic from the bastion (EC2 instance) to your private Redshift cluster.</p>


    
        

        
            

            <h3 id="retrieve-vpc-ip">
                Step 5.1: Retrieve the VPC's IPv4 CIDR
            </h3>

            <p>In this step, you’ll retrieve the bastion’s IP address, or IPv4 CIDR. This value will be followed by a slash and a number between 0 and 32. For example: <code class="highlighter-rouge">10.0.0.0/16</code></p>

<ol>
  <li>Navigate to the VPC Management Console in AWS. If you use the <strong>Services</strong> menu (top left corner), click the <strong>VPC</strong> option under the <strong>Networking &amp; Content Delivery</strong> section.</li>
  <li>On the VPC Dashboard, click the <strong>Your VPCs</strong> option under <strong>Virtual Private Cloud</strong> in the menu on the left side of the page.</li>
  <li>A list of all the VPCs you have access to in your AWS account will display. Locate the one you launched your Redshift cluster and the bastion in.</li>
  <li>
    <p>Locate the <strong>IPv4 CIDR</strong> column.</p>

    <p>If this column isn’t in the table, simply <strong>click on the VPC</strong> to open its details in the bottom section of the page:</p>

    <p><img src="/docs/images/destinations/redshift-ssh-vpc-ipv4-cidr.png" alt="VPC details &amp; IPv4 CIDR" /></p>
  </li>
  <li>Copy and paste the VPC’s IPv4 CIDR value somewhere convenient - you’ll need it in the next step.</li>
</ol>


            
        
            

            <h3 id="create-vpc-security-group">
                Step 5.2: Create a VPC Security Group
            </h3>

            <p>Now that you’ve retrieved the bastion’s IP address, you can create a security group that will allow traffic from the bastion to access the Redshift cluster.</p>

<ol>
  <li>From the VPC page, click the <strong>Security Groups</strong> option under <strong>Security</strong> in the menu on the left side of the page.</li>
  <li>Click the <strong>Create Security Group</strong> button.</li>
  <li>In the Create Security Group window:
    <ul>
      <li><strong>Name tag</strong>: Enter a name tag if you want; otherwise, leave blank.</li>
      <li><strong>Group name</strong>: Enter “Stitch Bastion”.</li>
      <li><strong>Description</strong>: Enter a brief description of what the group is.</li>
      <li><strong>VPC</strong>: Verify that the <strong>VPC where you launched the Redshift cluster and bastion</strong> is selected in the drop-down.</li>
    </ul>
  </li>
  <li>Click <strong>Yes, Create</strong>.</li>
  <li>After the Security Group is created, locate it in the list of Security Groups.</li>
  <li>Click on the Security Group.</li>
  <li>In the bottom section of the page - where the Security Group’s details are displayed - click the <strong>Inbound Rules</strong> tab.</li>
  <li>Click the <strong>Edit</strong> button to create an Inbound rule for the Security Group:
    <ul>
      <li><strong>Type:</strong> Select <strong>Custom TCP Rule</strong>.</li>
      <li><strong>Protocol</strong>: This should default to <strong>TCP</strong> - leave it as-is.</li>
      <li><strong>Port Range</strong>: Enter the port used by the Redshift instance. Our instance is using the Redshift default (5439).</li>
      <li><strong>Source</strong>: Enter the bastion’s <strong>VPC IPv4 CIDR</strong>. Ex: <code class="highlighter-rouge">10.0.0.0/16</code></li>
    </ul>

    <p>Here’s what the Inbound rule should look like:</p>

    <p><img src="/docs/images/destinations/redshift-ssh-vpc-security-group-rule.png" alt="VPC inbound Security Group rule" /></p>
  </li>
  <li>When finished, click <strong>Save</strong> to create the rule.</li>
</ol>


            
        
    

    

<hr>

    
        <h2 id="create-stitch-linux-user">
            Step 6: Create a Stitch Linux User
        </h2>

    
    
    <p>Next, you’ll retrieve your Public Key and create a Linux user on your server for Stitch.</p>


    
        

        
            

            <h3 id="retrieve-your-public-key">
                Step 6.1: Retrieve Your Public Key
            </h3>

            
<!-- Images that align to the right with a text wrap -->

<p><img class="right" src="/docs/images//ssh-public-key.png" alt="The Stitch Public Key" align="right" style="padding-left: 15px; width: 400px;" /></p>

<!-- "Normal" images used after breaks in paragraphs -->

<p>The Public Key is used to authorize the Stitch Linux user. If the key isn’t properly installed, Stitch will be unable to access your database.</p>

<p>To retrieve the key:</p>

<ol>
  <li>Click the <strong>Destination tab</strong>.</li>
  <li>
    <p>Click the <strong>Redshift</strong> icon.</p>
  </li>
  <li>
    <p>When the credentials page displays, click the <strong>Encryption Type</strong> menu and select the <strong>SSH Tunnel</strong> option.</p>
  </li>
  <li>The Public Key will display, along with the other SSH fields.</li>
</ol>

<p>Leave this page open for now - you’ll need it to wrap things up at the end.</p>


            
        
            

            <h3 id="create-stitch-linux-user">
                Step 6.2: Create the Stitch Linux User
            </h3>

            
<p><strong>Note:</strong> Anything inside square brackets - <code class="highlighter-rouge">[like this]</code> - is something you need to define when running the commands yourself.</p>

<ol>
  <li>
    <p>To create the new user, run the following commands as <code class="highlighter-rouge">root</code> on your Linux server:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>adduser <span class="nt">--disabled-password</span> <span class="o">[</span>stitch_username]
mkdir /home/[stitch_username]/.ssh
</code></pre></div>    </div>
  </li>
  <li>
    <p>Next, import the Public Key into <code class="highlighter-rouge">authorized_keys</code>. This will ensure the Stitch user has access to the database.</p>

    <p>Copy the entire key into the <code class="highlighter-rouge">authorized_keys</code> file by:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s2">"[PASTE KEY HERE]"</span> <span class="o">&gt;&gt;</span> /home/[stitch_username]/.ssh/authorized_keys
</code></pre></div>    </div>
  </li>
  <li>
    <p>Alter the permissions on the <code class="highlighter-rouge">/home/[stitch_username]</code> directory to allow access via SSH:</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chown <span class="nt">-R</span> <span class="o">[</span>stitch_username]:[stitch_username] /home/[stitch_username]
chmod <span class="nt">-R</span> 700 /home/[stitch_username]/.ssh
</code></pre></div>    </div>
  </li>
</ol>


            
        
    

    

<hr>

    
        <h2 id="create-database-user">
            Step 7: Create a Stitch Redshift User
        </h2>

    
    
    <p>As we mentioned when you created the instance, the credentials used to launch belong to the <a href="http://docs.aws.amazon.com/redshift/latest/dg/r_superusers.html">master user</a>, or admin.</p>

<p>If you want to control the permission settings, you’ll need to create an additional database user for Stitch. An added benefit is that Stitch will be easily distinguishable in any logs or audits.</p>

<div class="alert alert-warning" role="alert"><i class="fa fa-warning"></i> <b>Important:</b> While you can create a Redshift user for Stitch at any time, <strong>we recommend doing so before any data is replicated into your data warehouse</strong>. The process for creating a user for us after replication has taken place is considerably lengthier than what’s required for a new connection.</div>

<h3 id="requirements-for-creating-a-redshift-user">Requirements for Creating a Redshift User</h3>
<p><strong>You must be a superuser  to create a Redshift user.</strong> If you’re not a superuser or you’re not sure what this means, please contact someone on your technical team before proceeding.</p>

<h3 id="required-permissions">Required Redshift Permissions for Stitch</h3>

<p>The Stitch database user requires the following to successfully load data into Redshift:</p>

<table width="100%; fixed">
	<tr>
		<td width="40%; fixed">
			<strong>Action</strong>
		</td>
		<td>
			<strong>Reason</strong>
		</td>
	</tr>
	<tr>
		<td>
			<code class="highlighter-rouge">CREATE</code> schemas, tables, and views
		</td>
		<td>
			Stitch requires these permissions to create the necessary database objects to load and store your data.
		</td>
	</tr>
	<tr>
		<td>
			<code class="highlighter-rouge">SELECT</code> from tables in the <code class="highlighter-rouge">pg_catalog</code> and <code class="highlighter-rouge">information_schema</code> schemas
		</td>
		<td>
			Stitch uses the data in the systems tables to verify the existence of integration schemas and tables, and gain information about their structure prior to loading data.<br /><br />
			<strong>Note:</strong> Stitch will only ever <strong>read</strong> data from the systems tables.
		</td>
	</tr>
	<tr>
		<td>
			Ownership of all integration schemas and tables
		</td>
		<td>
			Stitch occasionally needs to run <code class="highlighter-rouge">COMMENT</code> and <code class="highlighter-rouge">ALTER TABLE</code> commands to properly insert data.
		</td>
	</tr>
</table>

<p>While you technically can manually create integration schemas in Redshift and then grant Stitch access to those schemas, we don’t recommend it. We understand that security is a high priority and permissions should be carefully granted, but this approach will likely lead to headaches for you.</p>

<p>If you take this approach, you’ll need to first create the schema in your data warehouse and then grant the Stitch user the appropriate permissions to access it <strong>every time a new integration is added in Stitch</strong>. If this isn’t done, Stitch won’t be able to load data into your data warehouse.</p>

<p>Additionally, if there are any differences between the name of the schema you create in your data warehouse and the schema name you enter in Stitch when setting up an integration, Stitch won’t be able to load data into your data warehouse.</p>

<h3 id="create-the-user">Create the Database User</h3>

<ul id="profileTabs" class="nav nav-tabs">
<li class="active">
<a href="#connection-type" data-toggle="tab">Connection Type</a>
</li>
<li>
<a href="#new-warehouse" data-toggle="tab">NEW Connections</a>
</li>
<li>
<a href="#existing-warehouse" data-toggle="tab">EXISTING Connections</a>
</li>
</ul>
<div class="tab-content">

<div role="tabpanel" class="tab-pane active" id="connection-type">
    <p>Depending on the type of connection this is, the steps for creating a Redshift database user for Stitch will vary a bit:</p>

    <ul>
      <li><strong>If Stitch hasn’t ever replicated data to your Redshift destination</strong>, follow the instructions in the <strong>NEW Connections</strong> tab.</li>
      <li><strong>If Stitch has replicated data to your Redshift destination in the past</strong>, follow the instructions in the <strong>EXISTING Connections</strong> tab.</li>
    </ul>
  </div>

<div role="tabpanel" class="tab-pane" id="new-warehouse">
    <p><strong>Note</strong>: Anything inside square brackets - <code class="highlighter-rouge">[like this]</code> - is something you need to define when running the commands yourself.</p>

    <ol>
      <li>
        <p>If you haven’t already, connect to your Redshift instance using your SQL client.2. After connecting, run this command to create the user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">USER</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">'[password]'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll assign the <code class="highlighter-rouge">CREATE</code> permissions to the user. For <code class="highlighter-rouge">[database_name]</code>, enter the name of the database where all Stitch-replicated data should be loaded. If you launched a cluster using this tutorial, it’s the name of the database when you launched the cluster in Step 2.</p>

        <p><strong>Note</strong>: This must be a pre-existing database.</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ON</span> <span class="k">DATABASE</span><span class="p">[</span><span class="n">database_name</span><span class="p">]</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>If you restricted access to the system tables</strong>, you’ll also need to run the following commands to grant the Stitch user <code class="highlighter-rouge">SELECT</code> permissions:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">information_schema</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>

<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">pg_catalog</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </div>

<div role="tabpanel" class="tab-pane" id="existing-warehouse">
    <p><strong>Note</strong>: Anything inside square brackets - <code class="highlighter-rouge">[like this]</code> - is something you need to define when running the commands yourself.</p>

    <ol>
      <li>
        <p>If you haven’t already, connect to your Redshift instance using your SQL client.2. After connecting, run this command to create the user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">USER</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">'[password]'</span><span class="p">;</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll assign the <code class="highlighter-rouge">CREATE</code> permissions to the user. For <code class="highlighter-rouge">[database_name]</code>, enter the name of the database where all Stitch-replicated data should be loaded. If you launched a cluster using this tutorial, it’s the name of the database when you launched the cluster in Step 2.</p>

        <p><strong>Note</strong>: This must be a pre-existing database.</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">ON</span> <span class="k">DATABASE</span><span class="p">[</span><span class="n">database_name</span><span class="p">]</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><strong>If you restricted access to the system tables</strong>, you’ll also need to run the following commands to grant the Stitch user <code class="highlighter-rouge">SELECT</code> permissions:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">information_schema</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>

<span class="k">GRANT</span> <span class="k">SELECT</span> <span class="k">ON</span> <span class="k">ALL</span> <span class="n">TABLES</span> <span class="k">IN</span> <span class="k">SCHEMA</span> <span class="n">pg_catalog</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
    </ol>

    <h4 id="transfer-integration-schema--table-ownership">Transfer Integration Schema &amp; Table Ownership</h4>

    <p>When an integration is initially connected to Stitch, a schema specific to that connection is created in your data warehouse. Ownership to those schemas and all the tables contained within them must be granted to the Stitch user for data replication to be successful.</p>

    <ol>
      <li>
        <p>Query the catalog tables using this statement to list all tables and their owners:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> 
<span class="k">FROM</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_tables</span><span class="p">;</span>
</code></pre></div>        </div>

        <p>Take note of any integration tables that aren’t owned by the Stitch user - those are the tables you’ll need to update.</p>
      </li>
      <li>
        <p>Transfer ownership of the integration schema to the Stitch user:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">SCHEMA</span> <span class="p">[</span><span class="k">schema_name</span><span class="p">]</span> <span class="k">OWNER</span> <span class="k">TO</span> <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Next, you’ll transfer ownership of all tables in the integration schema to the Stitch user. There are two ways to accomplish this: table-by-table or running a script.</p>

        <h5 id="table-by-table">Table-by-Table</h5>

        <p>For every table in the schema not owned by the Stitch user - as outlined in step 1 - use this command to transfer ownership:</p>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="p">[</span><span class="k">table_name</span><span class="p">]</span> <span class="k">OWNER</span> <span class="k">TO</span>  <span class="p">[</span><span class="n">stitch_username</span><span class="p">];</span>
</code></pre></div>        </div>

        <h5 id="script">Script</h5>

        <p>To transfer ownership automatically, run this script from the command line:</p>

        <pre><code class="language-psql">for table in `psql -qAt --host [your.redshift.amazonaws.com] --port [port] --user [admin_user] -c "select tablename from pg_tables where schemaname = '[schema_name]';" [database_name]` ; do psql -qAt --host [your.redshift.amazonaws.com] --port [port] --user [admin_user] -c "alter table \"[schema_name]\".\"$table\" owner to [stitch_username];" [database_name] ; done
</code></pre>
      </li>
    </ol>

    <p><strong>Note:</strong> If you need to transfer ownership of more than one schema and its tables, you’ll need to repeat steps 2 and 3 for every integration schema.</p>
  </div>

</div>


    

    

<hr>

    
        <h2 id="connect-stitch">
            Step 8: Connect Stitch
        </h2>

    
    
    <p>To complete the setup, you need to enter your Redshift connection details into the Destination Settings page in Stitch.</p>


    
        

        
            

            <h3 id="locate-connection-details-aws">
                Step 8.1: Locate the Redshift Connection Details
            </h3>

            
<ol>
  <li>On the <strong>Redshift Dashboard page</strong> in the AWS Console, click the <strong>Clusters</strong> option in the left nav bar.</li>
  <li>
    <p>In the Clusters page, locate and click on the cluster you created. This will display the <strong>Cluster Details</strong> page.</p>
  </li>
  <li>Locate the following fields:
    <ul>
      <li><strong>Endpoint</strong></li>
      <li><strong>Database Name:</strong> This is the name of the database you want to connect to Stitch. <strong>This must be a pre-existing database - Stitch won’t create one for you.</strong> It could be:
        <ul>
          <li>The name of the database you used to launch the instance.</li>
          <li>The name of another database within Redshift.</li>
        </ul>
      </li>
      <li><strong>Master Username:</strong> You’ll only need this if you’re using the master user’s credentials to connect to Stitch.</li>
      <li><strong>Port:</strong> This is the port used by the database.</li>
    </ul>
  </li>
</ol>

<p>These fields are highlighted in the image below:</p>

<p><img src="/docs/images/destinations/redshift-ssh-cluster-details.png" alt="Redshift cluster details" /></p>



            
                
                    <h3 id="enter-connection-details-into-stitch">
                        Step 8.2: Enter Connection Details into Stitch
                    </h3>
                
            
        
    

    
    

    
<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<!-- THe fields that display in the Destination Settings page 
  are dependent on the type of destination selected. 

The fields for each destination - including the field name as it displays 
in the UI and instructions for what goes in each field - are in the data file
below.  -->

<!-- Assigns a variable to the SSH fields -->
<ol>
  <li>If you aren’t logged into your Stitch account, log in now.</li>
  <li>Click the <strong>Destination tab</strong>.</li>
  <li>Click the <strong>Redshift</strong> icon.</li>
  <li>
    <p>Fill in the fields as follows:</p>

    <ul>
      <li>
        <p><strong>Host (Endpoint)</strong>: Paste the <strong>Endpoint</strong> address from the Redshift Details page in AWS into this field.</p>

        <p>Don’t include the port number, which is appended to the end of the endpoint string - this will cause errors. For example: if you used the default port, you’d remove the following from the address: <code class="highlighter-rouge">:5439</code></p>
      </li>
      <li>
        <p><strong>Port</strong>: Enter the port used by the Redshift instance. The default is <code class="highlighter-rouge">5439</code>.</p>
      </li>
      <li>
        <p><strong>Username</strong>: Enter the Stitch Redshift user’s username.</p>
      </li>
      <li>
        <p><strong>Password</strong>: Enter the password associated with the Stitch Redshift user.</p>
      </li>
      <li>
        <p><strong>Database</strong>: Enter the name of the Redshift database that you created for Stitch.</p>
      </li>
    </ul>
  </li>
</ol>

<!-- Include SSH instructions only if the include requests them -->

<p>Lastly, you’ll fill in the SSH fields with the bastion details.</p>

<ol>
  <li>Click the <strong>Encryption Type</strong> menu.</li>
  <li>Select <strong>SSH Tunnel.</strong></li>
  <li>
    <p>The following fields will display - fill them in as follows:</p>

    <!-- Redshift has different terminology, so a different variable produces the field descriptions -->

    <ul>
      <li><strong>Remote Address</strong>: Enter the bastion box’s IP address. This is the IPv4 CIDR you retrieved in <a href="#retrieve-vpc-ip">Step 5</a>.</li>
    </ul>

    <!-- Copy variables for all destinations that are NOT Redshift -->

    <!-- Redshift has different terminology, so a different variable produces the field descriptions -->

    <ul>
      <li><strong>SSH Port</strong>: Enter the bastion box’s port. If you’re using the default, this will be <strong>22</strong>.</li>
    </ul>

    <!-- Copy variables for all destinations that are NOT Redshift -->

    <!-- Redshift has different terminology, so a different variable produces the field descriptions -->

    <ul>
      <li><strong>SSH User</strong>: Enter the Stitch Linux (SSH) user’s username.</li>
    </ul>

    <!-- Copy variables for all destinations that are NOT Redshift -->
  </li>
</ol>

<!-- The content below will display for every type of destination -->
<p>When finished, click <strong>Update Redshift Settings</strong>.</p>

<p>Stitch will perform a connection test to the Redshift database; if successful, a <em>Success!</em> mesage will display at the top of the screen. <strong>Note that this test may take a few minutes to complete</strong>.</p>


    

<hr>








<!-- UI: page/button/section names, menu paths, etc -->

<!-- Simplifies internal links -->

<!-- Stitch -->

<!-- UI Icons -->

<!-- Mapping of Stitch replication/system columns -->

<!-- Rejected Record table details & schema -->

<!-- Stitch IP addresses  -->

<h2 id="troubleshooting-connection-errors">Troubleshooting Connection Errors</h2>

<p>If you receive an error message, we recommend trying <a href="/docs/troubleshooting/destinations/destination-connection-errors">these troubleshooting steps</a> for common destination connection problems before reaching out to support.</p>

<p>We’ve found that the majority of the time, these resources can resolve most issues.</p>

<hr />

<h2 id="learning-about-stitch--redshift">Learning About Stitch &amp; Redshift</h2>

<p>Now that your Redshift data warehouse is up and running, we recommend learning about how Stitch will load your data into it.</p>

<ul>
  <li>
    <p><strong><a href="/docs/destinations/redshift/">Redshift Destination Overview</a></strong>: This overview will give you the high-level basics for working with your Redshift data warehouse.</p>
  </li>
  <li>
    <p><strong><a href="/docs/data-structure/loading-stitch-data-into-destinations">Destination Data Loading Guide</a></strong>: This article covers many of the common scenarios Stitch will encounter when loading data into your Redshift destination and the expected behavior for each scenario.</p>
  </li>
</ul>


<!-- GitHub Feedback snippet -->

    
<!-- UI: page/button/section names, menu paths, etc -->


<!-- Simplifies internal links -->


<!-- Stitch -->


<!-- UI Icons -->


<!-- Mapping of Stitch replication/system columns -->



<!-- Rejected Record table details & schema -->



<!-- Stitch IP addresses  -->






<table width="100%" class="related-articles">
    <tbody>
        <tr>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Related</span>
            </td>
            <td valign="top" width="50%; fixed">
            	<span class="h2">Troubleshooting</span>
            </td>
        </tr>
        <tr>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->

<ul>
	<li>
		<a href="/docs/destinations/choosing-a-stitch-destination">Choosing a Destination</a>
	</li>
	<li>
		<a href="/docs/destinations/destination-integration-compatibility">Destination & Integration Compatibility</a>
	</li>
	<li>
		<a href="/docs/data-structure/loading-stitch-data-into-destinations">Loading Data into Your Destination</a>
	</li>
	<li>
		<a href="/docs/destinations/switching-destinations">Switching Destinations</a>
	</li>
	
	
		<li>
			<a href="/docs/data-structure/nested-data-structures-row-count-impact">Nested Data Structures & Row Count Impact</a>
		</li>
	
</ul>




<!-- INTEGRATIONS -->

<!-- All integrations -->


<!-- Webhook Integrations -->



<!-- Database Integrations -->




<!-- SaaS integrations -->




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        	<td valign="top">
        		<!-- ACCOUNT & BILLING -->




<!-- DESTINATIONS -->

<!-- Captures the integration's name -->

<ul>
	<!-- Loops over troubleshooting collection -->
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-data-loading-errors">Redshift Data Loading Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-dependent-view-errors">Redshift View Dependency Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
		<li>
			<a href="/docs/troubleshooting/destinations/redshift-vacuum-errors">Redshift VACUUM Errors</a>
		</li>
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<!-- If page.keywords contain's the integration's name, prints the result -->
		
	
	<li>
		<a href="/docs/troubleshooting/destinations/destination-connection-errors">Destination Connection Errors</a>
	</li>
</ul>




<!-- INTEGRATIONS -->

<!-- Database integration pages only -->



<!-- SaaS integration pages only -->



<!-- All integration pages -->




<!-- REPLICATION -->




<!-- DATA STRUCTURE -->

        	</td>
        </tr>
    </tbody>
</table>


    <hr>

<span class="h2">Questions? Feedback?</span>

<p>Did this article help? If you have questions or feedback, feel free to <a target="_blank" href="https://github.com/stitchdata/docs/blob/master/_destinations/redshift/connecting-redshift-ssh-tunnel.md">submit a pull request</a> with your suggestions, <a href="https://github.com/stitchdata/docs/issues" target="new">open an issue on GitHub</a>, or <a href="mailto: help@stitchdata.com">reach out to us</a>.</p>


<!-- Page tags -->
    

    
        <div class="tags">
            <b>Tags: </b>
            
            
                
                    <a href="/docs/tag_redshift_destination" class="btn btn-default navbar-btn cursorNorm" role="button">redshift destination</a>
                
            
        </div>
    

</div>

<footer>
	&copy;2017 Stitch. All rights reserved. <br />
	 Site last generated: Dec 12, 2017 <br />
	<!--<p><img src="/docs/images/company_logo.png" alt="Company logo"/></p>-->
</footer>



        </div>
    </div>
</div>

<!-- JAVASCRIPT -->
<script type="text/javascript" src="/docs/js/docsearch.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="//cdn.statuspage.io/se-v2.js"></script>

<script src="/docs/js/toc.js"></script>
<script src="/docs/js/customscripts.js"></script>

<script type="text/javascript">
    $(".fouc").removeClass("fouc");
</script>

<!-- Intercom bubble -->
<script>
  window.intercomSettings = {
    app_id: "okjpf68w"
  };
</script>
<script>
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/okjpf68w';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>

<!-- Algolia search -->
<script type="text/javascript">
docsearch({
  apiKey: '436dcd76593779a2261b623269cf5cfd',
  indexName: 'stitchdata',
  inputSelector: '#search-input',
  debug: false, // Set debug to true if you want to inspect the dropdown
  algoliaOptions: {
    hitsPerPage: 10 // Controls how many results display in the dropdown
  }
});
</script>

</body>
</html>